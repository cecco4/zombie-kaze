<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Zombie-Kaze: Riferimenti per il file logica_gioco.cc</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Zombie-Kaze
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generato da Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Cerca');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Pagina&#160;Principale</span></a></li>
      <li><a href="annotated.html"><span>Classi</span></a></li>
      <li class="current"><a href="files.html"><span>File</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Cerca" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Elenco&#160;dei&#160;file</span></a></li>
      <li><a href="globals.html"><span>Elementi&#160;dei&#160;file</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Tutto</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classi</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>File</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Funzioni</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variabili</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Tipi enumerati (enum)</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Valori del tipo enumerato</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Definizioni</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pagine</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Composti</a> &#124;
<a href="#enum-members">Tipi enumerati (enum)</a> &#124;
<a href="#func-members">Funzioni</a> &#124;
<a href="#var-members">Variabili</a>  </div>
  <div class="headertitle">
<div class="title">Riferimenti per il file logica_gioco.cc</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;iostream&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<code>#include &lt;allegro5/allegro.h&gt;</code><br/>
<code>#include &lt;allegro5/allegro_primitives.h&gt;</code><br/>
<code>#include &lt;allegro5/allegro_image.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="struttura__dati_8h_source.html">struttura_dati.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="logica__gioco_8h_source.html">logica_gioco.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="raycast_8h_source.html">raycast.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="input__output_8h_source.html">input_output.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Composti</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnodo.html">nodo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struttura contenente i dati dei nodi utilizzati nel <a class="el" href="logica__gioco_8cc.html#a342f63c9d95af6728bf0aa06c09e3f4d" title="Implementa l&#39;algoritmo BFS per il pathfinding dei nemici. ">pathfinding</a>.  <a href="structnodo.html#details">Continua...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Tipi enumerati (enum)</h2></td></tr>
<tr class="memitem:a77d32c22115115152439406d75895b2d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2d">path_t</a> { <br/>
&#160;&#160;<a class="el" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da188032b3e6837794e08d485d4426f1bb">p</a>, 
<a class="el" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da5dcbd33e95d624d951379fbb8ce3cfad">boh</a>, 
<a class="el" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da993c8ae02a4eb216e79975d9c4b30ba7">su</a>, 
<a class="el" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da836cb6d58916526173b15057d779c311">giu</a>, 
<br/>
&#160;&#160;<a class="el" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da35f93f075e16b5c43c39b70af1a5ef5c">destra</a>, 
<a class="el" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da898515c7bcad93969fef96b0b8247719">sinistra</a>, 
<a class="el" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da2c9bc819c0f12c7e8456c1cce0ca8deb">muro</a>
<br/>
 }</td></tr>
<tr class="memdesc:a77d32c22115115152439406d75895b2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Valori utilizzati dall'algoritmo di <a class="el" href="logica__gioco_8cc.html#a342f63c9d95af6728bf0aa06c09e3f4d" title="Implementa l&#39;algoritmo BFS per il pathfinding dei nemici. ">pathfinding</a> per costruire il percorso del nemico, indicano la posizione in cui si deve spostare.  <a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2d">Continua...</a><br/></td></tr>
<tr class="separator:a77d32c22115115152439406d75895b2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Funzioni</h2></td></tr>
<tr class="memitem:a342f63c9d95af6728bf0aa06c09e3f4d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2d">path_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#a342f63c9d95af6728bf0aa06c09e3f4d">pathfinding</a> (<a class="el" href="structmappa__dat.html">mappa_dat</a> &amp;map, <a class="el" href="structnemici__dat.html">nemici_dat</a> &amp;nem, int xp, int yp, int xa, int ya)</td></tr>
<tr class="memdesc:a342f63c9d95af6728bf0aa06c09e3f4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementa l'algoritmo BFS per il pathfinding dei nemici.  <a href="#a342f63c9d95af6728bf0aa06c09e3f4d">Continua...</a><br/></td></tr>
<tr class="separator:a342f63c9d95af6728bf0aa06c09e3f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a16501ca641f72fa46d576c12a9fcfc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#a0a16501ca641f72fa46d576c12a9fcfc">eject</a> (<a class="el" href="structnodo.html">nodo</a> *&amp;testa, <a class="el" href="structnodo.html">nodo</a> *&amp;coda, int &amp;x, int &amp;y)</td></tr>
<tr class="memdesc:a0a16501ca641f72fa46d576c12a9fcfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prende il primo elemento in coda.  <a href="#a0a16501ca641f72fa46d576c12a9fcfc">Continua...</a><br/></td></tr>
<tr class="separator:a0a16501ca641f72fa46d576c12a9fcfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a278fd4be552860d1255bff139d182308"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#a278fd4be552860d1255bff139d182308">inject</a> (<a class="el" href="structnodo.html">nodo</a> *&amp;testa, <a class="el" href="structnodo.html">nodo</a> *&amp;coda, int x, int y)</td></tr>
<tr class="memdesc:a278fd4be552860d1255bff139d182308"><td class="mdescLeft">&#160;</td><td class="mdescRight">inserisce un elemento in coda  <a href="#a278fd4be552860d1255bff139d182308">Continua...</a><br/></td></tr>
<tr class="separator:a278fd4be552860d1255bff139d182308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdafa4e03b5fb13bfc7e8f2bc36dfad7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#abdafa4e03b5fb13bfc7e8f2bc36dfad7">setta_posizione_arrivo</a> (<a class="el" href="structnemico__dat.html">nemico_dat</a> &amp;nem, <a class="el" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2d">path_t</a> dir)</td></tr>
<tr class="memdesc:abdafa4e03b5fb13bfc7e8f2bc36dfad7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setta le coordinate futura alle quali il nemico si dovrà spostare.  <a href="#abdafa4e03b5fb13bfc7e8f2bc36dfad7">Continua...</a><br/></td></tr>
<tr class="separator:abdafa4e03b5fb13bfc7e8f2bc36dfad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94fbd20a9789e138480b6dde559d4cd6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#a94fbd20a9789e138480b6dde559d4cd6">carica_ambiente</a> (char lv, <a class="el" href="structmappa__dat.html">mappa_dat</a> &amp;map, <a class="el" href="structtexture__dat.html">texture_dat</a> *&amp;texture, <a class="el" href="structplayer__dat.html">player_dat</a> &amp;player, <a class="el" href="structpistola__dat.html">pistola_dat</a> &amp;pistola, <a class="el" href="structnemici__dat.html">nemici_dat</a> &amp;nemici)</td></tr>
<tr class="memdesc:a94fbd20a9789e138480b6dde559d4cd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dato un livello, carica tutto il necessario affinchè si possa giocare su quel livello.  <a href="#a94fbd20a9789e138480b6dde559d4cd6">Continua...</a><br/></td></tr>
<tr class="separator:a94fbd20a9789e138480b6dde559d4cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fd7bc554e7d7ad0e9fb5b9017b012d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#a7fd7bc554e7d7ad0e9fb5b9017b012d1">dealloca_ambiente</a> (<a class="el" href="structmappa__dat.html">mappa_dat</a> &amp;map, <a class="el" href="structtexture__dat.html">texture_dat</a> *&amp;texture, <a class="el" href="structnemici__dat.html">nemici_dat</a> &amp;nemici, <a class="el" href="structpistola__dat.html">pistola_dat</a> &amp;pistola)</td></tr>
<tr class="memdesc:a7fd7bc554e7d7ad0e9fb5b9017b012d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">dealloca la memoria dinamica delle strutture che devono essere cambiate.  <a href="#a7fd7bc554e7d7ad0e9fb5b9017b012d1">Continua...</a><br/></td></tr>
<tr class="separator:a7fd7bc554e7d7ad0e9fb5b9017b012d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97bf76cb3890c7f6558d236ed0ff494a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#a97bf76cb3890c7f6558d236ed0ff494a">iniz_player</a> (<a class="el" href="structplayer__dat.html">player_dat</a> &amp;pl)</td></tr>
<tr class="memdesc:a97bf76cb3890c7f6558d236ed0ff494a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inizializza i campi della struttura del player con oppurtuni dati.  <a href="#a97bf76cb3890c7f6558d236ed0ff494a">Continua...</a><br/></td></tr>
<tr class="separator:a97bf76cb3890c7f6558d236ed0ff494a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41369e1d5f1b6bbdfd54b4c6728c9ee8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#a41369e1d5f1b6bbdfd54b4c6728c9ee8">iniz_pistola</a> (<a class="el" href="structpistola__dat.html">pistola_dat</a> &amp;pist)</td></tr>
<tr class="memdesc:a41369e1d5f1b6bbdfd54b4c6728c9ee8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inizializza i campi della struttura della pistola con oppurtuni dati.  <a href="#a41369e1d5f1b6bbdfd54b4c6728c9ee8">Continua...</a><br/></td></tr>
<tr class="separator:a41369e1d5f1b6bbdfd54b4c6728c9ee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a578a61efdd19efd2bf9196455737036e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#a578a61efdd19efd2bf9196455737036e">muovi_player</a> (<a class="el" href="structplayer__dat.html">player_dat</a> &amp;pl, <a class="el" href="structmappa__dat.html">mappa_dat</a> &amp;map, bool tasto[], <a class="el" href="structaudio__dat.html">audio_dat</a> &amp;audio)</td></tr>
<tr class="memdesc:a578a61efdd19efd2bf9196455737036e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aggiorna la posizione del giocatore in base agli input.  <a href="#a578a61efdd19efd2bf9196455737036e">Continua...</a><br/></td></tr>
<tr class="separator:a578a61efdd19efd2bf9196455737036e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af58893533f4214fd2923beb8010d4e5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#af58893533f4214fd2923beb8010d4e5d">gestisci_sparo</a> (<a class="el" href="structplayer__dat.html">player_dat</a> &amp;pl, <a class="el" href="structnemici__dat.html">nemici_dat</a> &amp;nem, <a class="el" href="structpistola__dat.html">pistola_dat</a> &amp;pist, bool tasto[], <a class="el" href="structaudio__dat.html">audio_dat</a> &amp;audio)</td></tr>
<tr class="memdesc:af58893533f4214fd2923beb8010d4e5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gestisce l'animazione della pistola e la possibilità di sparare in base alle tempistiche, inoltre appoggiandosi a ::computa collisione calcola quale nemico lo sparo può aver colpito.  <a href="#af58893533f4214fd2923beb8010d4e5d">Continua...</a><br/></td></tr>
<tr class="separator:af58893533f4214fd2923beb8010d4e5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49b62b6dd9fd93ee0782d0277dfbe34d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#a49b62b6dd9fd93ee0782d0277dfbe34d">iniz_nemici</a> (<a class="el" href="structnemici__dat.html">nemici_dat</a> &amp;nem, <a class="el" href="structmappa__dat.html">mappa_dat</a> &amp;map)</td></tr>
<tr class="memdesc:a49b62b6dd9fd93ee0782d0277dfbe34d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inizializza i campi della struttura dei nemici con oppurtuni dati.  <a href="#a49b62b6dd9fd93ee0782d0277dfbe34d">Continua...</a><br/></td></tr>
<tr class="separator:a49b62b6dd9fd93ee0782d0277dfbe34d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a9cbdb3889c687252716e655205f851"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#a0a9cbdb3889c687252716e655205f851">computa_collisione</a> (<a class="el" href="structnemico__dat.html">nemico_dat</a> &amp;nem, double x, double y)</td></tr>
<tr class="memdesc:a0a9cbdb3889c687252716e655205f851"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dato un nemico e la posizione di un punto dice se tale punto è dentro o no al raggio di collisione del nemico.  <a href="#a0a9cbdb3889c687252716e655205f851">Continua...</a><br/></td></tr>
<tr class="separator:a0a9cbdb3889c687252716e655205f851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4519117691f90d3464253dedb97631ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#a4519117691f90d3464253dedb97631ba">muovi_nemici</a> (<a class="el" href="structplayer__dat.html">player_dat</a> &amp;pl, <a class="el" href="structmappa__dat.html">mappa_dat</a> &amp;map, <a class="el" href="structnemici__dat.html">nemici_dat</a> &amp;nem)</td></tr>
<tr class="memdesc:a4519117691f90d3464253dedb97631ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aggiorna la posizione dei nemici.  <a href="#a4519117691f90d3464253dedb97631ba">Continua...</a><br/></td></tr>
<tr class="separator:a4519117691f90d3464253dedb97631ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0e16a3d02efe4caf4adf959df432d5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struttura__dati_8h.html#af62f0f35361858927524f5221f98b53b">STATO</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#ab0e16a3d02efe4caf4adf959df432d5c">controlla_stato_nemici</a> (<a class="el" href="structnemici__dat.html">nemici_dat</a> &amp;nemici, <a class="el" href="structaudio__dat.html">audio_dat</a> &amp;audio)</td></tr>
<tr class="memdesc:ab0e16a3d02efe4caf4adf959df432d5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controlla lo stato del gioco.  <a href="#ab0e16a3d02efe4caf4adf959df432d5c">Continua...</a><br/></td></tr>
<tr class="separator:ab0e16a3d02efe4caf4adf959df432d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accb0eb45bebc9c64c60d848ac95303cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#accb0eb45bebc9c64c60d848ac95303cc">anima_nemici</a> (<a class="el" href="structnemici__dat.html">nemici_dat</a> &amp;nem)</td></tr>
<tr class="memdesc:accb0eb45bebc9c64c60d848ac95303cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gestisce l'animazione dei nemici.  <a href="#accb0eb45bebc9c64c60d848ac95303cc">Continua...</a><br/></td></tr>
<tr class="separator:accb0eb45bebc9c64c60d848ac95303cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variabili</h2></td></tr>
<tr class="memitem:a8e245c2568d90de95556a0d7cf54299b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#a8e245c2568d90de95556a0d7cf54299b">joy</a></td></tr>
<tr class="memdesc:a8e245c2568d90de95556a0d7cf54299b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funzione principale.  <a href="#a8e245c2568d90de95556a0d7cf54299b">Continua...</a><br/></td></tr>
<tr class="separator:a8e245c2568d90de95556a0d7cf54299b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29e3c416529487b9d61c334030300a1f"><td class="memItemLeft" align="right" valign="top">ALLEGRO_JOYSTICK *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#a29e3c416529487b9d61c334030300a1f">joystick</a></td></tr>
<tr class="separator:a29e3c416529487b9d61c334030300a1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45bd1212cadcf15422e5238c9a79d2b8"><td class="memItemLeft" align="right" valign="top">ALLEGRO_JOYSTICK_STATE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logica__gioco_8cc.html#a45bd1212cadcf15422e5238c9a79d2b8">joystate</a></td></tr>
<tr class="separator:a45bd1212cadcf15422e5238c9a79d2b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Documentazione dei tipi enumerati</h2>
<a class="anchor" id="a77d32c22115115152439406d75895b2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2d">path_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Valori utilizzati dall'algoritmo di <a class="el" href="logica__gioco_8cc.html#a342f63c9d95af6728bf0aa06c09e3f4d" title="Implementa l&#39;algoritmo BFS per il pathfinding dei nemici. ">pathfinding</a> per costruire il percorso del nemico, indicano la posizione in cui si deve spostare. </p>
<table class="fieldtable">
<tr><th colspan="2">Valori del tipo enumerato</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a77d32c22115115152439406d75895b2da188032b3e6837794e08d485d4426f1bb"></a>p</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a77d32c22115115152439406d75895b2da5dcbd33e95d624d951379fbb8ce3cfad"></a>boh</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a77d32c22115115152439406d75895b2da993c8ae02a4eb216e79975d9c4b30ba7"></a>su</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a77d32c22115115152439406d75895b2da836cb6d58916526173b15057d779c311"></a>giu</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a77d32c22115115152439406d75895b2da35f93f075e16b5c43c39b70af1a5ef5c"></a>destra</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a77d32c22115115152439406d75895b2da898515c7bcad93969fef96b0b8247719"></a>sinistra</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a77d32c22115115152439406d75895b2da2c9bc819c0f12c7e8456c1cce0ca8deb"></a>muro</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;{ <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da188032b3e6837794e08d485d4426f1bb">p</a>, <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da5dcbd33e95d624d951379fbb8ce3cfad">boh</a> , <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da993c8ae02a4eb216e79975d9c4b30ba7">su</a> , <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da836cb6d58916526173b15057d779c311">giu</a>, <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da35f93f075e16b5c43c39b70af1a5ef5c">destra</a>, <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da898515c7bcad93969fef96b0b8247719">sinistra</a>, <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da2c9bc819c0f12c7e8456c1cce0ca8deb">muro</a> };</div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da35f93f075e16b5c43c39b70af1a5ef5c"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da35f93f075e16b5c43c39b70af1a5ef5c">destra</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da5dcbd33e95d624d951379fbb8ce3cfad"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da5dcbd33e95d624d951379fbb8ce3cfad">boh</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da993c8ae02a4eb216e79975d9c4b30ba7"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da993c8ae02a4eb216e79975d9c4b30ba7">su</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da836cb6d58916526173b15057d779c311"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da836cb6d58916526173b15057d779c311">giu</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da188032b3e6837794e08d485d4426f1bb"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da188032b3e6837794e08d485d4426f1bb">p</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da2c9bc819c0f12c7e8456c1cce0ca8deb"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da2c9bc819c0f12c7e8456c1cce0ca8deb">muro</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da898515c7bcad93969fef96b0b8247719"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da898515c7bcad93969fef96b0b8247719">sinistra</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Documentazione delle funzioni</h2>
<a class="anchor" id="accb0eb45bebc9c64c60d848ac95303cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anima_nemici </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnemici__dat.html">nemici_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>nem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gestisce l'animazione dei nemici. </p>
<p>Parametri: tutte le strutture da aggiornare </p>
<div class="fragment"><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;{</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; nem.<a class="code" href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">num_nemici</a>; i++) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#aa84f3203ae23c581d618a39d125ed19f">t_ani</a>++;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">if</span> (nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a0da2ca593351036cd4ce45c5d5d3dc34">frame</a> &gt;= 4) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            <span class="keywordflow">if</span> (nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#aa84f3203ae23c581d618a39d125ed19f">t_ani</a> &gt;= 5) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                <span class="keywordflow">if</span> (nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a0da2ca593351036cd4ce45c5d5d3dc34">frame</a>&lt;9) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                    nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a0da2ca593351036cd4ce45c5d5d3dc34">frame</a>++;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                    nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#aa84f3203ae23c581d618a39d125ed19f">t_ani</a>=0;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                    <span class="comment">//elimino e posiziono il nemico fuori dalla mappa</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                    nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a> = 0;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a> = 0;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                    nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a0da2ca593351036cd4ce45c5d5d3dc34">frame</a> = 0;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                    nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#aa84f3203ae23c581d618a39d125ed19f">t_ani</a>=0;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                    nem.<a class="code" href="structnemici__dat.html#a7e049f38d6e290c9c446446e6630ab7c">nem_vivi</a>--;  <span class="comment">// aggiorno numero nemici vivi</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="keywordflow">if</span> (nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#aa84f3203ae23c581d618a39d125ed19f">t_ani</a> &gt;= 20) {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            <span class="keywordflow">if</span> (nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a015b037400bc28215ce12ddc08f0ee1a">simuove</a>) {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a0da2ca593351036cd4ce45c5d5d3dc34">frame</a> &lt; 3? </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                    nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a0da2ca593351036cd4ce45c5d5d3dc34">frame</a>++ :nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a0da2ca593351036cd4ce45c5d5d3dc34">frame</a> =0;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#aa84f3203ae23c581d618a39d125ed19f">t_ani</a> = 0;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a0da2ca593351036cd4ce45c5d5d3dc34">frame</a> = 0;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#aa84f3203ae23c581d618a39d125ed19f">t_ani</a> = 0;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        assert(nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a0da2ca593351036cd4ce45c5d5d3dc34">frame</a>&gt;=0 &amp;&amp; nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a0da2ca593351036cd4ce45c5d5d3dc34">frame</a>&lt;9);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;}</div>
<div class="ttc" id="structnemici__dat_html_ab9f6af23f8e24915ab8e328a76d3c930"><div class="ttname"><a href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">nemici_dat::num_nemici</a></div><div class="ttdeci">int num_nemici</div><div class="ttdoc">Numero nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:119</div></div>
<div class="ttc" id="structnemico__dat_html_a0da2ca593351036cd4ce45c5d5d3dc34"><div class="ttname"><a href="structnemico__dat.html#a0da2ca593351036cd4ce45c5d5d3dc34">nemico_dat::frame</a></div><div class="ttdeci">int frame</div><div class="ttdoc">Frame attuale dell&#39;animazione. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:112</div></div>
<div class="ttc" id="structnemici__dat_html_a7e049f38d6e290c9c446446e6630ab7c"><div class="ttname"><a href="structnemici__dat.html#a7e049f38d6e290c9c446446e6630ab7c">nemici_dat::nem_vivi</a></div><div class="ttdeci">int nem_vivi</div><div class="ttdoc">Numero nemici vivi. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:120</div></div>
<div class="ttc" id="structnemico__dat_html_a015b037400bc28215ce12ddc08f0ee1a"><div class="ttname"><a href="structnemico__dat.html#a015b037400bc28215ce12ddc08f0ee1a">nemico_dat::simuove</a></div><div class="ttdeci">bool simuove</div><div class="ttdoc">true se si sta muovendo </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:107</div></div>
<div class="ttc" id="structnemico__dat_html_a8671e18e611267e6f5a0a33a0aa96371"><div class="ttname"><a href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">nemico_dat::x</a></div><div class="ttdeci">double x</div><div class="ttdoc">Coordinata x. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:94</div></div>
<div class="ttc" id="structnemico__dat_html_ae77c14ff4bea0943f352d4f7eec20ddb"><div class="ttname"><a href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">nemico_dat::y</a></div><div class="ttdeci">double y</div><div class="ttdoc">Coordinata y. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:95</div></div>
<div class="ttc" id="structnemico__dat_html_aa84f3203ae23c581d618a39d125ed19f"><div class="ttname"><a href="structnemico__dat.html#aa84f3203ae23c581d618a39d125ed19f">nemico_dat::t_ani</a></div><div class="ttdeci">int t_ani</div><div class="ttdoc">Tempo dell&#39;animazione. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:113</div></div>
<div class="ttc" id="structnemici__dat_html_a559652c8265efa3bcae93c6dace103c1"><div class="ttname"><a href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemici_dat::nemico</a></div><div class="ttdeci">nemico_dat * nemico</div><div class="ttdoc">Puntatore ad array di nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:118</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a94fbd20a9789e138480b6dde559d4cd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int carica_ambiente </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>lv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmappa__dat.html">mappa_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtexture__dat.html">texture_dat</a> *&amp;&#160;</td>
          <td class="paramname"><em>texture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structplayer__dat.html">player_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpistola__dat.html">pistola_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>pistola</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnemici__dat.html">nemici_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>nemici</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dato un livello, carica tutto il necessario affinchè si possa giocare su quel livello. </p>
<p>Viene chiamata all'inizio di ogni livello dal <a class="el" href="main_8cc.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> . </p>
<pre class="fragment">si appoggia alle seguenti funzioni di input_output:
</pre><p> <a class="el" href="input__output_8h.html#af91c42ef64f8014600d4fa0693717d14" title="Carica la mappa da un file .map in &quot;data/mappe&quot; in una matrice statica, ritornando il tutto in uno st...">carica_mappa</a> , <a class="el" href="input__output_8h.html#ac5f115a8ebe4017787ab921ff7a8b883" title="controlla se ci sono tutte le texture della mappa, provando ad accedere ai file. ">controlla_texture_mappa</a> , <a class="el" href="input__output_8h.html#a529e27b4d6e0f9cf078632ef47e06a1f" title="Carica le texture necessarie al livello su un array di texture_dat ritorna true se tutto è andato ben...">carica_texture_mappa</a> e <a class="el" href="input__output_8h.html#af581f437e28bf6d1f693480299175756" title="Carica le texture del nemico su un array di texture dat ritorna true se tutto è andato bene...">carica_texture_nemico</a> .</p>
<p>inoltre inizializza anche le strutture dati necessarie a far partire correttamente il livello, appoggiandosi alle seguenti funzioni di logica_gioco: <a class="el" href="logica__gioco_8h.html#a97bf76cb3890c7f6558d236ed0ff494a" title="Inizializza i campi della struttura del player con oppurtuni dati. ">iniz_player</a> , <a class="el" href="logica__gioco_8h.html#a41369e1d5f1b6bbdfd54b4c6728c9ee8" title="Inizializza i campi della struttura della pistola con oppurtuni dati. ">iniz_pistola</a> e <a class="el" href="logica__gioco_8h.html#a49b62b6dd9fd93ee0782d0277dfbe34d" title="Inizializza i campi della struttura dei nemici con oppurtuni dati. ">iniz_nemici</a> .</p>
<p>Parametri: lv livello da caricare Parametri: le strutture da aggiornare </p>
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    cout&lt;&lt;<span class="stringliteral">&quot;CARICAMENTO LIVELLO:    &quot;</span>&lt;&lt;lv&lt;&lt;endl; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">//carico il necessario</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    map = <a class="code" href="input__output_8cc.html#af91c42ef64f8014600d4fa0693717d14">carica_mappa</a>(lv);  <span class="comment">//mappa primo lv</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a> = <a class="code" href="struttura__dati_8h.html#a75e75af9055561f651bae3ad9cdc6f37">dimensione_tile</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">if</span> (map.<a class="code" href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">data</a> == NULL) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        cout&lt;&lt;<span class="stringliteral">&quot;errore caricamento della mappa\n&quot;</span>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">return</span> -5;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }    </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordtype">bool</span> cerca_player = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">//setto posizione player</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;map.<a class="code" href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">dim</a> ; i++)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt;map.<a class="code" href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">dim</a> ; j++) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            <span class="keywordflow">if</span> (map.<a class="code" href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">data</a>[i][j] == <span class="keywordtype">int</span>(<span class="charliteral">&#39;P&#39;</span>)) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                map.<a class="code" href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">data</a>[i][j] = int(<span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                cerca_player = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                player.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> = j*map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>+map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>/2;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                player.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> = i*map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>+map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>/2;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">if</span> (!cerca_player) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        cout&lt;&lt;<span class="stringliteral">&quot;Non è stata settata la posizione iniziale del player\n&quot;</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">return</span> -6;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">//contenitore nemici</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    nemici.<a class="code" href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">num_nemici</a> = 0;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordtype">int</span> text_list[256];</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordtype">int</span> num_tex = <a class="code" href="input__output_8cc.html#ac5f115a8ebe4017787ab921ff7a8b883">controlla_texture_mappa</a>(map, text_list,nemici);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">if</span> (num_tex == -1) </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">return</span> -7;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    texture = <span class="keyword">new</span> <a class="code" href="structtexture__dat.html">texture_dat</a>[num_tex];</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="input__output_8cc.html#a529e27b4d6e0f9cf078632ef47e06a1f">carica_texture_mappa</a>(texture, text_list, num_tex))</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">return</span> -8;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">//array nemici</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    nemici.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a> = <span class="keyword">new</span> <a class="code" href="structnemico__dat.html">nemico_dat</a>[nemici.<a class="code" href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">num_nemici</a>];</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> (lv == <span class="charliteral">&#39;0&#39;</span>) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="comment">//carico texture nemico</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="input__output_8cc.html#af581f437e28bf6d1f693480299175756">carica_texture_nemico</a>(nemici.<a class="code" href="structnemici__dat.html#ad3760d45d329954d5211f392cc7e1120">text</a>))</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keywordflow">return</span> -9; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="logica__gioco_8cc.html#a41369e1d5f1b6bbdfd54b4c6728c9ee8">iniz_pistola</a>(pistola))</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">return</span> -10;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">//inizializzo il player e i nemici</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="logica__gioco_8cc.html#a97bf76cb3890c7f6558d236ed0ff494a">iniz_player</a>(player);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="logica__gioco_8cc.html#a49b62b6dd9fd93ee0782d0277dfbe34d">iniz_nemici</a>(nemici, map);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div>
<div class="ttc" id="logica__gioco_8cc_html_a97bf76cb3890c7f6558d236ed0ff494a"><div class="ttname"><a href="logica__gioco_8cc.html#a97bf76cb3890c7f6558d236ed0ff494a">iniz_player</a></div><div class="ttdeci">void iniz_player(player_dat &amp;pl)</div><div class="ttdoc">Inizializza i campi della struttura del player con oppurtuni dati. </div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:128</div></div>
<div class="ttc" id="structtexture__dat_html"><div class="ttname"><a href="structtexture__dat.html">texture_dat</a></div><div class="ttdoc">Struttura contenente i dati di una texture. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:86</div></div>
<div class="ttc" id="structnemici__dat_html_ab9f6af23f8e24915ab8e328a76d3c930"><div class="ttname"><a href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">nemici_dat::num_nemici</a></div><div class="ttdeci">int num_nemici</div><div class="ttdoc">Numero nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:119</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a41369e1d5f1b6bbdfd54b4c6728c9ee8"><div class="ttname"><a href="logica__gioco_8cc.html#a41369e1d5f1b6bbdfd54b4c6728c9ee8">iniz_pistola</a></div><div class="ttdeci">bool iniz_pistola(pistola_dat &amp;pist)</div><div class="ttdoc">Inizializza i campi della struttura della pistola con oppurtuni dati. </div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:142</div></div>
<div class="ttc" id="structmappa__dat_html_aa8812a67b74b6433219812c8b95ae2cb"><div class="ttname"><a href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">mappa_dat::data</a></div><div class="ttdeci">int ** data</div><div class="ttdoc">matrice dinamica che contiene le informazioni sulla locazione dei muri </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:61</div></div>
<div class="ttc" id="structplayer__dat_html_a8fc56837f576bfac7ee926e0aedefcf2"><div class="ttname"><a href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">player_dat::y</a></div><div class="ttdeci">double y</div><div class="ttdoc">Coordinata y. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:40</div></div>
<div class="ttc" id="structnemici__dat_html_ad3760d45d329954d5211f392cc7e1120"><div class="ttname"><a href="structnemici__dat.html#ad3760d45d329954d5211f392cc7e1120">nemici_dat::text</a></div><div class="ttdeci">texture_dat text[10]</div><div class="ttdoc">Sprite dei nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:121</div></div>
<div class="ttc" id="structnemico__dat_html"><div class="ttname"><a href="structnemico__dat.html">nemico_dat</a></div><div class="ttdoc">Struttura contenente i dati di un nemico. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:93</div></div>
<div class="ttc" id="structmappa__dat_html_af68162fa4ba3dbcbfe4691f0d692e791"><div class="ttname"><a href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">mappa_dat::dim</a></div><div class="ttdeci">int dim</div><div class="ttdoc">Numero blocchi per lato della mappa. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:63</div></div>
<div class="ttc" id="input__output_8cc_html_a529e27b4d6e0f9cf078632ef47e06a1f"><div class="ttname"><a href="input__output_8cc.html#a529e27b4d6e0f9cf078632ef47e06a1f">carica_texture_mappa</a></div><div class="ttdeci">bool carica_texture_mappa(texture_dat texture[], int *text_list, int num_tex)</div><div class="ttdoc">Carica le texture necessarie al livello su un array di texture_dat ritorna true se tutto è andato ben...</div><div class="ttdef"><b>Definition:</b> input_output.cc:145</div></div>
<div class="ttc" id="structmappa__dat_html_a66d74a7d20b0999f0840af9044c91d60"><div class="ttname"><a href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">mappa_dat::u</a></div><div class="ttdeci">int u</div><div class="ttdoc">dimensione blocchi </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:64</div></div>
<div class="ttc" id="structplayer__dat_html_af66b2d7f7e5c9a0c093b4ae92d8f0c03"><div class="ttname"><a href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">player_dat::x</a></div><div class="ttdeci">double x</div><div class="ttdoc">Coordinata x. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:39</div></div>
<div class="ttc" id="struttura__dati_8h_html_a75e75af9055561f651bae3ad9cdc6f37"><div class="ttname"><a href="struttura__dati_8h.html#a75e75af9055561f651bae3ad9cdc6f37">dimensione_tile</a></div><div class="ttdeci">const int dimensione_tile</div><div class="ttdoc">Dimensione unità della mappa. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:16</div></div>
<div class="ttc" id="input__output_8cc_html_af581f437e28bf6d1f693480299175756"><div class="ttname"><a href="input__output_8cc.html#af581f437e28bf6d1f693480299175756">carica_texture_nemico</a></div><div class="ttdeci">bool carica_texture_nemico(texture_dat text[])</div><div class="ttdoc">Carica le texture del nemico su un array di texture dat ritorna true se tutto è andato bene...</div><div class="ttdef"><b>Definition:</b> input_output.cc:184</div></div>
<div class="ttc" id="input__output_8cc_html_af91c42ef64f8014600d4fa0693717d14"><div class="ttname"><a href="input__output_8cc.html#af91c42ef64f8014600d4fa0693717d14">carica_mappa</a></div><div class="ttdeci">mappa_dat carica_mappa(char n_mappa)</div><div class="ttdoc">Carica la mappa da un file .map in &quot;data/mappe&quot; in una matrice statica, ritornando il tutto in uno st...</div><div class="ttdef"><b>Definition:</b> input_output.cc:20</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a49b62b6dd9fd93ee0782d0277dfbe34d"><div class="ttname"><a href="logica__gioco_8cc.html#a49b62b6dd9fd93ee0782d0277dfbe34d">iniz_nemici</a></div><div class="ttdeci">void iniz_nemici(nemici_dat &amp;nem, mappa_dat &amp;map)</div><div class="ttdoc">Inizializza i campi della struttura dei nemici con oppurtuni dati. </div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:372</div></div>
<div class="ttc" id="structnemici__dat_html_a559652c8265efa3bcae93c6dace103c1"><div class="ttname"><a href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemici_dat::nemico</a></div><div class="ttdeci">nemico_dat * nemico</div><div class="ttdoc">Puntatore ad array di nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:118</div></div>
<div class="ttc" id="input__output_8cc_html_ac5f115a8ebe4017787ab921ff7a8b883"><div class="ttname"><a href="input__output_8cc.html#ac5f115a8ebe4017787ab921ff7a8b883">controlla_texture_mappa</a></div><div class="ttdeci">int controlla_texture_mappa(mappa_dat &amp;map, int *text_list, nemici_dat &amp;nem)</div><div class="ttdoc">controlla se ci sono tutte le texture della mappa, provando ad accedere ai file. </div><div class="ttdef"><b>Definition:</b> input_output.cc:61</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0a9cbdb3889c687252716e655205f851"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool computa_collisione </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnemico__dat.html">nemico_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>nem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dato un nemico e la posizione di un punto dice se tale punto è dentro o no al raggio di collisione del nemico. </p>
<p>Parametri: nem struttura dei nemici Parametri: x,y coordinate del punto </p>
<div class="fragment"><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;{</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">//limiti</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordtype">int</span> sx = nem.<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a> - nem.<a class="code" href="structnemico__dat.html#a970f8239ebf25125697814e6fb16edcc">l</a>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordtype">int</span> dx = nem.<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a> + nem.<a class="code" href="structnemico__dat.html#a970f8239ebf25125697814e6fb16edcc">l</a>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordtype">int</span> alto = nem.<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a> - nem.<a class="code" href="structnemico__dat.html#a970f8239ebf25125697814e6fb16edcc">l</a>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordtype">int</span> basso = nem.<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a> + nem.<a class="code" href="structnemico__dat.html#a970f8239ebf25125697814e6fb16edcc">l</a>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="comment">//se è dentro i limiti c&#39;è la collisione</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span> ( x &gt;= sx &amp;&amp; x&lt;= dx &amp;&amp; y&lt;= basso &amp;&amp; y &gt;= alto )</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div>
<div class="ttc" id="structnemico__dat_html_a970f8239ebf25125697814e6fb16edcc"><div class="ttname"><a href="structnemico__dat.html#a970f8239ebf25125697814e6fb16edcc">nemico_dat::l</a></div><div class="ttdeci">int l</div><div class="ttdoc">Larghezza. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:98</div></div>
<div class="ttc" id="structnemico__dat_html_a8671e18e611267e6f5a0a33a0aa96371"><div class="ttname"><a href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">nemico_dat::x</a></div><div class="ttdeci">double x</div><div class="ttdoc">Coordinata x. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:94</div></div>
<div class="ttc" id="structnemico__dat_html_ae77c14ff4bea0943f352d4f7eec20ddb"><div class="ttname"><a href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">nemico_dat::y</a></div><div class="ttdeci">double y</div><div class="ttdoc">Coordinata y. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:95</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab0e16a3d02efe4caf4adf959df432d5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struttura__dati_8h.html#af62f0f35361858927524f5221f98b53b">STATO</a> controlla_stato_nemici </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnemici__dat.html">nemici_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>nemici</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structaudio__dat.html">audio_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>audio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controlla lo stato del gioco. </p>
<p>Controlla se ci sono nemici vivi, e appena ne muore uno fa partire l'animazione di esplosione. Se non ci sono più nemici vivi ritorna lo stato CARICA che fa capire al <a class="el" href="main_8cc.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> che deve caricare un'altro livello. Se invece il nemico esplode abbastanza vicino da ucciere il giocatore ritorna GAME_OVER.</p>
<p>Parametri: tutte le strutture da aggiornare </p>
<div class="fragment"><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;{</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n=0; n &lt; nemici.<a class="code" href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">num_nemici</a>; n++) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">if</span>(nemici.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a4064a000488c6e7c716c2731934207be">vivo</a> &amp;&amp; nemici.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a4d24ac15a14e1050d74270eeb85aaf69">vita</a> &lt;= 0) {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            nemici.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a4064a000488c6e7c716c2731934207be">vivo</a> = <span class="keyword">false</span>;            </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            nemici.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#aa84f3203ae23c581d618a39d125ed19f">t_ani</a> = 0;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            nemici.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a0da2ca593351036cd4ce45c5d5d3dc34">frame</a> = 4; <span class="comment">//inizio fase esplosione</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            al_play_sample(audio.<a class="code" href="structaudio__dat.html#a3f40fa1143978099b4cee8ab5a2a9a8f">bomba</a>, 2.5, 0, 1, ALLEGRO_PLAYMODE_ONCE, NULL);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="comment">//controllo distanza, se espode vicino al player è GAME OVER</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordflow">if</span>(nemici.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a4df41dde8f4d6a21750610b919487484">dist</a>&lt;<a class="code" href="struttura__dati_8h.html#a75e75af9055561f651bae3ad9cdc6f37">dimensione_tile</a>*3/2) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;             nemici.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a4d24ac15a14e1050d74270eeb85aaf69">vita</a> = 0;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;             <span class="comment">//esplosione finita</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;             <span class="keywordflow">if</span> ( nemici.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a0da2ca593351036cd4ce45c5d5d3dc34">frame</a> &gt;= 9) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                 al_stop_sample(&amp;audio.<a class="code" href="structaudio__dat.html#a461204e32aaa7af0cad41c757b56f4de">m_id</a>);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                 al_play_sample(audio.<a class="code" href="structaudio__dat.html#a048a56296e2e2ad6022ff9c52f06a3e2">gameover</a>, 2.5, 0, 1, ALLEGRO_PLAYMODE_ONCE, NULL);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                 <span class="keywordflow">return</span> <a class="code" href="struttura__dati_8h.html#af62f0f35361858927524f5221f98b53ba871723195985a4ae22d7e10d99bf8a00">GAME_OVER</a>;    </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;             }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;         }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> (nemici.<a class="code" href="structnemici__dat.html#a7e049f38d6e290c9c446446e6630ab7c">nem_vivi</a>&lt;=0) </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="struttura__dati_8h.html#af62f0f35361858927524f5221f98b53ba348ee0b12aa2add36de34a33d06c2a52">CARICA</a>;    <span class="comment">//avanza al prossimo livello</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="struttura__dati_8h.html#af62f0f35361858927524f5221f98b53ba0352906d1ea1dfcd663c918f3a86755b">PLAY</a>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div>
<div class="ttc" id="struttura__dati_8h_html_af62f0f35361858927524f5221f98b53ba348ee0b12aa2add36de34a33d06c2a52"><div class="ttname"><a href="struttura__dati_8h.html#af62f0f35361858927524f5221f98b53ba348ee0b12aa2add36de34a33d06c2a52">CARICA</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:28</div></div>
<div class="ttc" id="structnemici__dat_html_ab9f6af23f8e24915ab8e328a76d3c930"><div class="ttname"><a href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">nemici_dat::num_nemici</a></div><div class="ttdeci">int num_nemici</div><div class="ttdoc">Numero nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:119</div></div>
<div class="ttc" id="structnemico__dat_html_a0da2ca593351036cd4ce45c5d5d3dc34"><div class="ttname"><a href="structnemico__dat.html#a0da2ca593351036cd4ce45c5d5d3dc34">nemico_dat::frame</a></div><div class="ttdeci">int frame</div><div class="ttdoc">Frame attuale dell&#39;animazione. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:112</div></div>
<div class="ttc" id="struttura__dati_8h_html_af62f0f35361858927524f5221f98b53ba0352906d1ea1dfcd663c918f3a86755b"><div class="ttname"><a href="struttura__dati_8h.html#af62f0f35361858927524f5221f98b53ba0352906d1ea1dfcd663c918f3a86755b">PLAY</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:28</div></div>
<div class="ttc" id="structaudio__dat_html_a461204e32aaa7af0cad41c757b56f4de"><div class="ttname"><a href="structaudio__dat.html#a461204e32aaa7af0cad41c757b56f4de">audio_dat::m_id</a></div><div class="ttdeci">ALLEGRO_SAMPLE_ID m_id</div><div class="ttdoc">Identificatore audio in riproduzione. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:154</div></div>
<div class="ttc" id="structnemici__dat_html_a7e049f38d6e290c9c446446e6630ab7c"><div class="ttname"><a href="structnemici__dat.html#a7e049f38d6e290c9c446446e6630ab7c">nemici_dat::nem_vivi</a></div><div class="ttdeci">int nem_vivi</div><div class="ttdoc">Numero nemici vivi. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:120</div></div>
<div class="ttc" id="structnemico__dat_html_a4d24ac15a14e1050d74270eeb85aaf69"><div class="ttname"><a href="structnemico__dat.html#a4d24ac15a14e1050d74270eeb85aaf69">nemico_dat::vita</a></div><div class="ttdeci">int vita</div><div class="ttdoc">vita attuale </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:110</div></div>
<div class="ttc" id="struttura__dati_8h_html_a75e75af9055561f651bae3ad9cdc6f37"><div class="ttname"><a href="struttura__dati_8h.html#a75e75af9055561f651bae3ad9cdc6f37">dimensione_tile</a></div><div class="ttdeci">const int dimensione_tile</div><div class="ttdoc">Dimensione unità della mappa. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:16</div></div>
<div class="ttc" id="structnemico__dat_html_a4df41dde8f4d6a21750610b919487484"><div class="ttname"><a href="structnemico__dat.html#a4df41dde8f4d6a21750610b919487484">nemico_dat::dist</a></div><div class="ttdeci">double dist</div><div class="ttdoc">Distanza dal giocatore. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:97</div></div>
<div class="ttc" id="structnemico__dat_html_a4064a000488c6e7c716c2731934207be"><div class="ttname"><a href="structnemico__dat.html#a4064a000488c6e7c716c2731934207be">nemico_dat::vivo</a></div><div class="ttdeci">bool vivo</div><div class="ttdoc">true se è vivo </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:108</div></div>
<div class="ttc" id="struttura__dati_8h_html_af62f0f35361858927524f5221f98b53ba871723195985a4ae22d7e10d99bf8a00"><div class="ttname"><a href="struttura__dati_8h.html#af62f0f35361858927524f5221f98b53ba871723195985a4ae22d7e10d99bf8a00">GAME_OVER</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:28</div></div>
<div class="ttc" id="structaudio__dat_html_a048a56296e2e2ad6022ff9c52f06a3e2"><div class="ttname"><a href="structaudio__dat.html#a048a56296e2e2ad6022ff9c52f06a3e2">audio_dat::gameover</a></div><div class="ttdeci">ALLEGRO_SAMPLE * gameover</div><div class="ttdef"><b>Definition:</b> struttura_dati.h:159</div></div>
<div class="ttc" id="structnemico__dat_html_aa84f3203ae23c581d618a39d125ed19f"><div class="ttname"><a href="structnemico__dat.html#aa84f3203ae23c581d618a39d125ed19f">nemico_dat::t_ani</a></div><div class="ttdeci">int t_ani</div><div class="ttdoc">Tempo dell&#39;animazione. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:113</div></div>
<div class="ttc" id="structnemici__dat_html_a559652c8265efa3bcae93c6dace103c1"><div class="ttname"><a href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemici_dat::nemico</a></div><div class="ttdeci">nemico_dat * nemico</div><div class="ttdoc">Puntatore ad array di nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:118</div></div>
<div class="ttc" id="structaudio__dat_html_a3f40fa1143978099b4cee8ab5a2a9a8f"><div class="ttname"><a href="structaudio__dat.html#a3f40fa1143978099b4cee8ab5a2a9a8f">audio_dat::bomba</a></div><div class="ttdeci">ALLEGRO_SAMPLE * bomba</div><div class="ttdef"><b>Definition:</b> struttura_dati.h:164</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7fd7bc554e7d7ad0e9fb5b9017b012d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dealloca_ambiente </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmappa__dat.html">mappa_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtexture__dat.html">texture_dat</a> *&amp;&#160;</td>
          <td class="paramname"><em>texture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnemici__dat.html">nemici_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>nemici</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpistola__dat.html">pistola_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>pistola</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>dealloca la memoria dinamica delle strutture che devono essere cambiate. </p>
<p>Parametri: tutte le strutture che contengono elementi da eliminare </p>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;map.<a class="code" href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">dim</a>; i++) </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="keyword">delete</span> [] map.<a class="code" href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">data</a>[i];</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keyword">delete</span> [] map.<a class="code" href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">data</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keyword">delete</span> [] texture;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">delete</span> [] nemici.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div>
<div class="ttc" id="structmappa__dat_html_aa8812a67b74b6433219812c8b95ae2cb"><div class="ttname"><a href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">mappa_dat::data</a></div><div class="ttdeci">int ** data</div><div class="ttdoc">matrice dinamica che contiene le informazioni sulla locazione dei muri </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:61</div></div>
<div class="ttc" id="structmappa__dat_html_af68162fa4ba3dbcbfe4691f0d692e791"><div class="ttname"><a href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">mappa_dat::dim</a></div><div class="ttdeci">int dim</div><div class="ttdoc">Numero blocchi per lato della mappa. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:63</div></div>
<div class="ttc" id="structnemici__dat_html_a559652c8265efa3bcae93c6dace103c1"><div class="ttname"><a href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemici_dat::nemico</a></div><div class="ttdeci">nemico_dat * nemico</div><div class="ttdoc">Puntatore ad array di nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:118</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0a16501ca641f72fa46d576c12a9fcfc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void eject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnodo.html">nodo</a> *&amp;&#160;</td>
          <td class="paramname"><em>testa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnodo.html">nodo</a> *&amp;&#160;</td>
          <td class="paramname"><em>coda</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prende il primo elemento in coda. </p>
<div class="fragment"><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;{</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    x = testa-&gt;<a class="code" href="structnodo.html#a4e346a7300837310d594e854b0918b01">x</a>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    y = testa-&gt;<a class="code" href="structnodo.html#a454518f55fe41aa89177dbbf19a349e4">y</a>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <a class="code" href="structnodo.html">nodo</a> *tmp = testa-&gt;<a class="code" href="structnodo.html#a96e7be119f4e64c85efc57d7616ade85">succ</a>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keyword">delete</span> [] testa;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (coda == testa)</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        coda = testa = tmp;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        testa = tmp;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;}</div>
<div class="ttc" id="structnodo_html_a454518f55fe41aa89177dbbf19a349e4"><div class="ttname"><a href="structnodo.html#a454518f55fe41aa89177dbbf19a349e4">nodo::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:26</div></div>
<div class="ttc" id="structnodo_html_a96e7be119f4e64c85efc57d7616ade85"><div class="ttname"><a href="structnodo.html#a96e7be119f4e64c85efc57d7616ade85">nodo::succ</a></div><div class="ttdeci">nodo * succ</div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:27</div></div>
<div class="ttc" id="structnodo_html_a4e346a7300837310d594e854b0918b01"><div class="ttname"><a href="structnodo.html#a4e346a7300837310d594e854b0918b01">nodo::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:25</div></div>
<div class="ttc" id="structnodo_html"><div class="ttname"><a href="structnodo.html">nodo</a></div><div class="ttdoc">Struttura contenente i dati dei nodi utilizzati nel pathfinding. </div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:24</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af58893533f4214fd2923beb8010d4e5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gestisci_sparo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structplayer__dat.html">player_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>pl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnemici__dat.html">nemici_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>nem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpistola__dat.html">pistola_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>pist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>tasto</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structaudio__dat.html">audio_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>audio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gestisce l'animazione della pistola e la possibilità di sparare in base alle tempistiche, inoltre appoggiandosi a ::computa collisione calcola quale nemico lo sparo può aver colpito. </p>
<p>Parametri: tutte le strutture da aggiornare </p>
<div class="fragment"><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;{</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="comment">//tempistiche pistola</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    pist.<a class="code" href="structpistola__dat.html#a8c132480a4b8dc3421cf1c1885a45907">t</a>&lt;pist.<a class="code" href="structpistola__dat.html#aa2aaf099e22d3d123d19717c34c2378d">tmax</a> ? pist.<a class="code" href="structpistola__dat.html#a8c132480a4b8dc3421cf1c1885a45907">t</a>++ : pist.<a class="code" href="structpistola__dat.html#a8c132480a4b8dc3421cf1c1885a45907">t</a>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="logica__gioco_8cc.html#a8e245c2568d90de95556a0d7cf54299b">joy</a>) { </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="logica__gioco_8cc.html#a45bd1212cadcf15422e5238c9a79d2b8">joystate</a>.stick[2].axis[1] == 1)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca8bbbcdd35f04ea619b9851d763eed24e">SPAZIO</a>]= <span class="keyword">true</span>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca8bbbcdd35f04ea619b9851d763eed24e">SPAZIO</a>]= <span class="keyword">false</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span> (tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca8bbbcdd35f04ea619b9851d763eed24e">SPAZIO</a>] &amp;&amp; pist.<a class="code" href="structpistola__dat.html#a8c132480a4b8dc3421cf1c1885a45907">t</a> &gt;= pist.<a class="code" href="structpistola__dat.html#aa2aaf099e22d3d123d19717c34c2378d">tmax</a>) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        pist.<a class="code" href="structpistola__dat.html#a133a157165b5692f784a79a9826dad31">stato_anim</a> = <a class="code" href="struttura__dati_8h.html#a03f06e72fcc674618c091f13ea583938a93493ef7364752effd9004da8e911c1b">SPARA</a>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        pist.<a class="code" href="structpistola__dat.html#aac3e503c899355133a03296cb7d63cba">sparato</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        al_play_sample(audio.<a class="code" href="structaudio__dat.html#a322f5b28b9d90cec4e66d4978f279107">pistola</a>, 1.0, 0, 1, ALLEGRO_PLAYMODE_ONCE, NULL);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="comment">//distanze nemici in collisione</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordtype">double</span> distanze[nem.<a class="code" href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">num_nemici</a>];</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nem.<a class="code" href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">num_nemici</a>; i++)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            distanze[i] = pl.<a class="code" href="structplayer__dat.html#ac3c1dd8e6cde041ef33a9638abc36fc8">dist_m</a>*2; <span class="comment">//distanza maggiore</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="comment">//calcolo collisioni</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        for (<span class="keywordtype">int</span> n=0; n &lt; nem.<a class="code" href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">num_nemici</a>; n++) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keywordflow">if</span>(nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a41f88af2ac81498e51823af81a90057a">vis</a>) {            </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                <span class="keywordtype">double</span> sparo_x = pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> + cos(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>))*nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a4df41dde8f4d6a21750610b919487484">dist</a>;    </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                <span class="keywordtype">double</span> sparo_y = pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> - sin(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>))*nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a4df41dde8f4d6a21750610b919487484">dist</a>;    </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                <span class="keywordflow">if</span> ( <a class="code" href="logica__gioco_8cc.html#a0a9cbdb3889c687252716e655205f851">computa_collisione</a>(nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n],sparo_x,sparo_y) )     </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                        distanze[n] = nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a4df41dde8f4d6a21750610b919487484">dist</a>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                            </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="comment">//distanza minima</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordtype">int</span> min = 0;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;nem.<a class="code" href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">num_nemici</a>; i++) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keywordflow">if</span> (distanze[i] &lt; distanze[min])</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                min = i;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="comment">//se non c&#39;è il muro davanti</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">if</span> (distanze[min] &lt; pl.<a class="code" href="structplayer__dat.html#ac3c1dd8e6cde041ef33a9638abc36fc8">dist_m</a>) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[min].<a class="code" href="structnemico__dat.html#a4d24ac15a14e1050d74270eeb85aaf69">vita</a> -= pist.<a class="code" href="structpistola__dat.html#aca178c4c1807973f79d5060210ec7e90">danno</a>;    </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            al_play_sample(audio.<a class="code" href="structaudio__dat.html#ac3874d88afcd8664e32cbe2011d63f9b">zombie</a>, 1.0, 0, 1, ALLEGRO_PLAYMODE_ONCE, NULL);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        pist.<a class="code" href="structpistola__dat.html#a8c132480a4b8dc3421cf1c1885a45907">t</a>=0;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    assert(pist.<a class="code" href="structpistola__dat.html#a8c132480a4b8dc3421cf1c1885a45907">t</a>&gt;=0 &amp;&amp; pist.<a class="code" href="structpistola__dat.html#a8c132480a4b8dc3421cf1c1885a45907">t</a>&lt;= pist.<a class="code" href="structpistola__dat.html#aa2aaf099e22d3d123d19717c34c2378d">tmax</a>);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="comment">//animazione pistola</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">if</span> (pist.<a class="code" href="structpistola__dat.html#a133a157165b5692f784a79a9826dad31">stato_anim</a> != <a class="code" href="struttura__dati_8h.html#a03f06e72fcc674618c091f13ea583938a93493ef7364752effd9004da8e911c1b">SPARA</a>) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">if</span> (tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959cab722ceeb601c72cd78fbd35f3581fdf7">W</a>] ^ tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959caf1ce01387d2348f8b858721a7db81670">S</a>] ^ tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca42a4ade1acd55a49164099104990e09f">A</a>] ^ tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca77a6b11f9898c052926f1d49765861e8">D</a>])</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            pist.<a class="code" href="structpistola__dat.html#a133a157165b5692f784a79a9826dad31">stato_anim</a> = <a class="code" href="struttura__dati_8h.html#a03f06e72fcc674618c091f13ea583938a16c1673b767e8af2531566c254244256">CAMMINA</a>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            pist.<a class="code" href="structpistola__dat.html#a133a157165b5692f784a79a9826dad31">stato_anim</a> = <a class="code" href="struttura__dati_8h.html#a03f06e72fcc674618c091f13ea583938a4303eb08a6089d7c223aa1f76fa56a30">FERMO</a>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div>
<div class="ttc" id="structaudio__dat_html_ac3874d88afcd8664e32cbe2011d63f9b"><div class="ttname"><a href="structaudio__dat.html#ac3874d88afcd8664e32cbe2011d63f9b">audio_dat::zombie</a></div><div class="ttdeci">ALLEGRO_SAMPLE * zombie</div><div class="ttdef"><b>Definition:</b> struttura_dati.h:163</div></div>
<div class="ttc" id="structplayer__dat_html_ae51ef04fa403d4694a36380e54b3148d"><div class="ttname"><a href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">player_dat::ang</a></div><div class="ttdeci">double ang</div><div class="ttdoc">Angolo in gradi. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:41</div></div>
<div class="ttc" id="struttura__dati_8h_html_a9c87ca40e543ebbb6e33116215d4959ca8bbbcdd35f04ea619b9851d763eed24e"><div class="ttname"><a href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca8bbbcdd35f04ea619b9851d763eed24e">SPAZIO</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:31</div></div>
<div class="ttc" id="structnemici__dat_html_ab9f6af23f8e24915ab8e328a76d3c930"><div class="ttname"><a href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">nemici_dat::num_nemici</a></div><div class="ttdeci">int num_nemici</div><div class="ttdoc">Numero nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:119</div></div>
<div class="ttc" id="structplayer__dat_html_a8fc56837f576bfac7ee926e0aedefcf2"><div class="ttname"><a href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">player_dat::y</a></div><div class="ttdeci">double y</div><div class="ttdoc">Coordinata y. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:40</div></div>
<div class="ttc" id="struttura__dati_8h_html_a9c87ca40e543ebbb6e33116215d4959ca77a6b11f9898c052926f1d49765861e8"><div class="ttname"><a href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca77a6b11f9898c052926f1d49765861e8">D</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:31</div></div>
<div class="ttc" id="struttura__dati_8h_html_a9c87ca40e543ebbb6e33116215d4959caf1ce01387d2348f8b858721a7db81670"><div class="ttname"><a href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959caf1ce01387d2348f8b858721a7db81670">S</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:31</div></div>
<div class="ttc" id="struttura__dati_8h_html_a03f06e72fcc674618c091f13ea583938a93493ef7364752effd9004da8e911c1b"><div class="ttname"><a href="struttura__dati_8h.html#a03f06e72fcc674618c091f13ea583938a93493ef7364752effd9004da8e911c1b">SPARA</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:34</div></div>
<div class="ttc" id="struttura__dati_8h_html_a03f06e72fcc674618c091f13ea583938a4303eb08a6089d7c223aa1f76fa56a30"><div class="ttname"><a href="struttura__dati_8h.html#a03f06e72fcc674618c091f13ea583938a4303eb08a6089d7c223aa1f76fa56a30">FERMO</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:34</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a0a9cbdb3889c687252716e655205f851"><div class="ttname"><a href="logica__gioco_8cc.html#a0a9cbdb3889c687252716e655205f851">computa_collisione</a></div><div class="ttdeci">bool computa_collisione(nemico_dat &amp;nem, double x, double y)</div><div class="ttdoc">Dato un nemico e la posizione di un punto dice se tale punto è dentro o no al raggio di collisione de...</div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:404</div></div>
<div class="ttc" id="structpistola__dat_html_a133a157165b5692f784a79a9826dad31"><div class="ttname"><a href="structpistola__dat.html#a133a157165b5692f784a79a9826dad31">pistola_dat::stato_anim</a></div><div class="ttdeci">ANIM_PIST stato_anim</div><div class="ttdoc">Stato attuale animazione pistola. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:141</div></div>
<div class="ttc" id="raycast_8cc_html_ac2200150c9f43d15c533f992f37b5f96"><div class="ttname"><a href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a></div><div class="ttdeci">double rad(double ang)</div><div class="ttdoc">Dato un angolo in gradi lo converte in radianti. </div><div class="ttdef"><b>Definition:</b> raycast.cc:48</div></div>
<div class="ttc" id="structnemico__dat_html_a41f88af2ac81498e51823af81a90057a"><div class="ttname"><a href="structnemico__dat.html#a41f88af2ac81498e51823af81a90057a">nemico_dat::vis</a></div><div class="ttdeci">bool vis</div><div class="ttdoc">true se è stato visto </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:105</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a8e245c2568d90de95556a0d7cf54299b"><div class="ttname"><a href="logica__gioco_8cc.html#a8e245c2568d90de95556a0d7cf54299b">joy</a></div><div class="ttdeci">bool joy</div><div class="ttdoc">Funzione principale. </div><div class="ttdef"><b>Definition:</b> main.cc:55</div></div>
<div class="ttc" id="struttura__dati_8h_html_a9c87ca40e543ebbb6e33116215d4959ca42a4ade1acd55a49164099104990e09f"><div class="ttname"><a href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca42a4ade1acd55a49164099104990e09f">A</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:31</div></div>
<div class="ttc" id="structplayer__dat_html_af66b2d7f7e5c9a0c093b4ae92d8f0c03"><div class="ttname"><a href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">player_dat::x</a></div><div class="ttdeci">double x</div><div class="ttdoc">Coordinata x. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:39</div></div>
<div class="ttc" id="structplayer__dat_html_ac3c1dd8e6cde041ef33a9638abc36fc8"><div class="ttname"><a href="structplayer__dat.html#ac3c1dd8e6cde041ef33a9638abc36fc8">player_dat::dist_m</a></div><div class="ttdeci">double dist_m</div><div class="ttdoc">Distanza dal muro più vicino. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:50</div></div>
<div class="ttc" id="structnemico__dat_html_a4d24ac15a14e1050d74270eeb85aaf69"><div class="ttname"><a href="structnemico__dat.html#a4d24ac15a14e1050d74270eeb85aaf69">nemico_dat::vita</a></div><div class="ttdeci">int vita</div><div class="ttdoc">vita attuale </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:110</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a45bd1212cadcf15422e5238c9a79d2b8"><div class="ttname"><a href="logica__gioco_8cc.html#a45bd1212cadcf15422e5238c9a79d2b8">joystate</a></div><div class="ttdeci">ALLEGRO_JOYSTICK_STATE joystate</div><div class="ttdef"><b>Definition:</b> main.cc:57</div></div>
<div class="ttc" id="structpistola__dat_html_a8c132480a4b8dc3421cf1c1885a45907"><div class="ttname"><a href="structpistola__dat.html#a8c132480a4b8dc3421cf1c1885a45907">pistola_dat::t</a></div><div class="ttdeci">int t</div><div class="ttdoc">Tempo attuale dello sparo. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:137</div></div>
<div class="ttc" id="structpistola__dat_html_aca178c4c1807973f79d5060210ec7e90"><div class="ttname"><a href="structpistola__dat.html#aca178c4c1807973f79d5060210ec7e90">pistola_dat::danno</a></div><div class="ttdeci">int danno</div><div class="ttdoc">Danno di un colpo inflitto al nemico. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:139</div></div>
<div class="ttc" id="structpistola__dat_html_aa2aaf099e22d3d123d19717c34c2378d"><div class="ttname"><a href="structpistola__dat.html#aa2aaf099e22d3d123d19717c34c2378d">pistola_dat::tmax</a></div><div class="ttdeci">int tmax</div><div class="ttdoc">Tempo minimo tra uno sparo e l&#39;altro. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:138</div></div>
<div class="ttc" id="structnemico__dat_html_a4df41dde8f4d6a21750610b919487484"><div class="ttname"><a href="structnemico__dat.html#a4df41dde8f4d6a21750610b919487484">nemico_dat::dist</a></div><div class="ttdeci">double dist</div><div class="ttdoc">Distanza dal giocatore. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:97</div></div>
<div class="ttc" id="struttura__dati_8h_html_a03f06e72fcc674618c091f13ea583938a16c1673b767e8af2531566c254244256"><div class="ttname"><a href="struttura__dati_8h.html#a03f06e72fcc674618c091f13ea583938a16c1673b767e8af2531566c254244256">CAMMINA</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:34</div></div>
<div class="ttc" id="struttura__dati_8h_html_a9c87ca40e543ebbb6e33116215d4959cab722ceeb601c72cd78fbd35f3581fdf7"><div class="ttname"><a href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959cab722ceeb601c72cd78fbd35f3581fdf7">W</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:31</div></div>
<div class="ttc" id="structnemici__dat_html_a559652c8265efa3bcae93c6dace103c1"><div class="ttname"><a href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemici_dat::nemico</a></div><div class="ttdeci">nemico_dat * nemico</div><div class="ttdoc">Puntatore ad array di nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:118</div></div>
<div class="ttc" id="structaudio__dat_html_a322f5b28b9d90cec4e66d4978f279107"><div class="ttname"><a href="structaudio__dat.html#a322f5b28b9d90cec4e66d4978f279107">audio_dat::pistola</a></div><div class="ttdeci">ALLEGRO_SAMPLE * pistola</div><div class="ttdef"><b>Definition:</b> struttura_dati.h:162</div></div>
<div class="ttc" id="structpistola__dat_html_aac3e503c899355133a03296cb7d63cba"><div class="ttname"><a href="structpistola__dat.html#aac3e503c899355133a03296cb7d63cba">pistola_dat::sparato</a></div><div class="ttdeci">bool sparato</div><div class="ttdoc">Proiettile sparato? </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:135</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a49b62b6dd9fd93ee0782d0277dfbe34d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iniz_nemici </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnemici__dat.html">nemici_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>nem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmappa__dat.html">mappa_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inizializza i campi della struttura dei nemici con oppurtuni dati. </p>
<p>Parametri: nem struttura dei nemici Parametri: map struttura della mappa </p>
<div class="fragment"><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;{</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    nem.<a class="code" href="structnemici__dat.html#a7e049f38d6e290c9c446446e6630ab7c">nem_vivi</a> = nem.<a class="code" href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">num_nemici</a>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordtype">int</span> n=0;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;map.<a class="code" href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">dim</a> ; i++)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt;map.<a class="code" href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">dim</a> ; j++) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="keywordflow">if</span> (map.<a class="code" href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">data</a>[i][j] == <span class="keywordtype">int</span>(<span class="charliteral">&#39;N&#39;</span>)) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a> = j*map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a> + map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>/2;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a> = i*map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a> + map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>/2;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a970f8239ebf25125697814e6fb16edcc">l</a> = map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>/2;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a07058cc53d10ae16d32efafbff748623">ang</a> = 0;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a4d24ac15a14e1050d74270eeb85aaf69">vita</a> = 100;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a0da2ca593351036cd4ce45c5d5d3dc34">frame</a> = 0;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#aa84f3203ae23c581d618a39d125ed19f">t_ani</a> = 0;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a4df41dde8f4d6a21750610b919487484">dist</a> = 200;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a41f88af2ac81498e51823af81a90057a">vis</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a015b037400bc28215ce12ddc08f0ee1a">simuove</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a4064a000488c6e7c716c2731934207be">vivo</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[n].<a class="code" href="structnemico__dat.html#a7eaec74f66484b6bd53d377038d5cdcd">insegui</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                map.<a class="code" href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">data</a>[i][j] = 0;   <span class="comment">//ripristino mappa</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                    </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                n++;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    nem.<a class="code" href="structnemici__dat.html#ab26c35bc361e94a56ce9053daff78ab7">vel_camminata</a> = 2;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;}</div>
<div class="ttc" id="structnemici__dat_html_ab26c35bc361e94a56ce9053daff78ab7"><div class="ttname"><a href="structnemici__dat.html#ab26c35bc361e94a56ce9053daff78ab7">nemici_dat::vel_camminata</a></div><div class="ttdeci">double vel_camminata</div><div class="ttdoc">Velocità camminata nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:122</div></div>
<div class="ttc" id="structnemici__dat_html_ab9f6af23f8e24915ab8e328a76d3c930"><div class="ttname"><a href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">nemici_dat::num_nemici</a></div><div class="ttdeci">int num_nemici</div><div class="ttdoc">Numero nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:119</div></div>
<div class="ttc" id="structmappa__dat_html_aa8812a67b74b6433219812c8b95ae2cb"><div class="ttname"><a href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">mappa_dat::data</a></div><div class="ttdeci">int ** data</div><div class="ttdoc">matrice dinamica che contiene le informazioni sulla locazione dei muri </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:61</div></div>
<div class="ttc" id="structnemico__dat_html_a0da2ca593351036cd4ce45c5d5d3dc34"><div class="ttname"><a href="structnemico__dat.html#a0da2ca593351036cd4ce45c5d5d3dc34">nemico_dat::frame</a></div><div class="ttdeci">int frame</div><div class="ttdoc">Frame attuale dell&#39;animazione. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:112</div></div>
<div class="ttc" id="structnemico__dat_html_a970f8239ebf25125697814e6fb16edcc"><div class="ttname"><a href="structnemico__dat.html#a970f8239ebf25125697814e6fb16edcc">nemico_dat::l</a></div><div class="ttdeci">int l</div><div class="ttdoc">Larghezza. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:98</div></div>
<div class="ttc" id="structmappa__dat_html_af68162fa4ba3dbcbfe4691f0d692e791"><div class="ttname"><a href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">mappa_dat::dim</a></div><div class="ttdeci">int dim</div><div class="ttdoc">Numero blocchi per lato della mappa. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:63</div></div>
<div class="ttc" id="structnemico__dat_html_a41f88af2ac81498e51823af81a90057a"><div class="ttname"><a href="structnemico__dat.html#a41f88af2ac81498e51823af81a90057a">nemico_dat::vis</a></div><div class="ttdeci">bool vis</div><div class="ttdoc">true se è stato visto </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:105</div></div>
<div class="ttc" id="structmappa__dat_html_a66d74a7d20b0999f0840af9044c91d60"><div class="ttname"><a href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">mappa_dat::u</a></div><div class="ttdeci">int u</div><div class="ttdoc">dimensione blocchi </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:64</div></div>
<div class="ttc" id="structnemici__dat_html_a7e049f38d6e290c9c446446e6630ab7c"><div class="ttname"><a href="structnemici__dat.html#a7e049f38d6e290c9c446446e6630ab7c">nemici_dat::nem_vivi</a></div><div class="ttdeci">int nem_vivi</div><div class="ttdoc">Numero nemici vivi. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:120</div></div>
<div class="ttc" id="structnemico__dat_html_a4d24ac15a14e1050d74270eeb85aaf69"><div class="ttname"><a href="structnemico__dat.html#a4d24ac15a14e1050d74270eeb85aaf69">nemico_dat::vita</a></div><div class="ttdeci">int vita</div><div class="ttdoc">vita attuale </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:110</div></div>
<div class="ttc" id="structnemico__dat_html_a015b037400bc28215ce12ddc08f0ee1a"><div class="ttname"><a href="structnemico__dat.html#a015b037400bc28215ce12ddc08f0ee1a">nemico_dat::simuove</a></div><div class="ttdeci">bool simuove</div><div class="ttdoc">true se si sta muovendo </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:107</div></div>
<div class="ttc" id="structnemico__dat_html_a8671e18e611267e6f5a0a33a0aa96371"><div class="ttname"><a href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">nemico_dat::x</a></div><div class="ttdeci">double x</div><div class="ttdoc">Coordinata x. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:94</div></div>
<div class="ttc" id="structnemico__dat_html_a4df41dde8f4d6a21750610b919487484"><div class="ttname"><a href="structnemico__dat.html#a4df41dde8f4d6a21750610b919487484">nemico_dat::dist</a></div><div class="ttdeci">double dist</div><div class="ttdoc">Distanza dal giocatore. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:97</div></div>
<div class="ttc" id="structnemico__dat_html_a7eaec74f66484b6bd53d377038d5cdcd"><div class="ttname"><a href="structnemico__dat.html#a7eaec74f66484b6bd53d377038d5cdcd">nemico_dat::insegui</a></div><div class="ttdeci">bool insegui</div><div class="ttdoc">se true insegue il giocatore </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:106</div></div>
<div class="ttc" id="structnemico__dat_html_a4064a000488c6e7c716c2731934207be"><div class="ttname"><a href="structnemico__dat.html#a4064a000488c6e7c716c2731934207be">nemico_dat::vivo</a></div><div class="ttdeci">bool vivo</div><div class="ttdoc">true se è vivo </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:108</div></div>
<div class="ttc" id="structnemico__dat_html_ae77c14ff4bea0943f352d4f7eec20ddb"><div class="ttname"><a href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">nemico_dat::y</a></div><div class="ttdeci">double y</div><div class="ttdoc">Coordinata y. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:95</div></div>
<div class="ttc" id="structnemico__dat_html_a07058cc53d10ae16d32efafbff748623"><div class="ttname"><a href="structnemico__dat.html#a07058cc53d10ae16d32efafbff748623">nemico_dat::ang</a></div><div class="ttdeci">double ang</div><div class="ttdoc">Angolo. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:96</div></div>
<div class="ttc" id="structnemico__dat_html_aa84f3203ae23c581d618a39d125ed19f"><div class="ttname"><a href="structnemico__dat.html#aa84f3203ae23c581d618a39d125ed19f">nemico_dat::t_ani</a></div><div class="ttdeci">int t_ani</div><div class="ttdoc">Tempo dell&#39;animazione. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:113</div></div>
<div class="ttc" id="structnemici__dat_html_a559652c8265efa3bcae93c6dace103c1"><div class="ttname"><a href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemici_dat::nemico</a></div><div class="ttdeci">nemico_dat * nemico</div><div class="ttdoc">Puntatore ad array di nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:118</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a41369e1d5f1b6bbdfd54b4c6728c9ee8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iniz_pistola </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpistola__dat.html">pistola_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>pist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inizializza i campi della struttura della pistola con oppurtuni dati. </p>
<p>Ritorna falso in caso di errore nel caricamento della sprite</p>
<p>Parametri: pist struttura della pistola </p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    pist.<a class="code" href="structpistola__dat.html#a8facb44e982b31a3412de88b5a61f97f">x</a> = <a class="code" href="struttura__dati_8h.html#a0784cd492c479dda0e0cb343eb420c0b">lschermo</a>/2 - pist.<a class="code" href="structpistola__dat.html#a0f58f2d3b8469427118a8cf7366b08a7">frame_l</a>/2 - 18;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    pist.<a class="code" href="structpistola__dat.html#af9afa863ed5d208b416b6501135cd4f0">y</a> = <a class="code" href="struttura__dati_8h.html#af660130ebbf343c65c1bdcbb8fa23cbf">hschermo</a> - pist.<a class="code" href="structpistola__dat.html#a207ab0beb66adf955686dadc27bcd737">img_h</a>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    pist.<a class="code" href="structpistola__dat.html#a8c132480a4b8dc3421cf1c1885a45907">t</a>=0;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    pist.<a class="code" href="structpistola__dat.html#aa2aaf099e22d3d123d19717c34c2378d">tmax</a> = 53; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    pist.<a class="code" href="structpistola__dat.html#aca178c4c1807973f79d5060210ec7e90">danno</a> = 80;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    cout&lt;&lt;<span class="stringliteral">&quot;Caricamento: data/sprite/pistola.png    &quot;</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    ALLEGRO_BITMAP *img = al_load_bitmap(<span class="stringliteral">&quot;data/sprite/pistola.png&quot;</span>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">if</span> (img == NULL) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        cout&lt;&lt;<span class="stringliteral">&quot;errore\n&quot;</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        cout&lt;&lt;<span class="stringliteral">&quot;OK\n&quot;</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    pist.<a class="code" href="structpistola__dat.html#aac3e503c899355133a03296cb7d63cba">sparato</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    pist.<a class="code" href="structpistola__dat.html#a0b5935da0a340fddebc6cb36bf44626c">img</a> = img;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    pist.<a class="code" href="structpistola__dat.html#a479297ee305f6dfded11030baf3628d1">img_l</a> = 400;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    pist.<a class="code" href="structpistola__dat.html#a207ab0beb66adf955686dadc27bcd737">img_h</a> = 105;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    pist.<a class="code" href="structpistola__dat.html#a0f58f2d3b8469427118a8cf7366b08a7">frame_l</a> = 80;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    pist.<a class="code" href="structpistola__dat.html#ab63aa7b168f360c29d96731649e99705">nframe</a> = 5;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    pist.<a class="code" href="structpistola__dat.html#a133a157165b5692f784a79a9826dad31">stato_anim</a> = <a class="code" href="struttura__dati_8h.html#a03f06e72fcc674618c091f13ea583938a16c1673b767e8af2531566c254244256">CAMMINA</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    pist.<a class="code" href="structpistola__dat.html#a2ea8ad1aecb65138e59191f18a2ef7ac">FERMO_off</a> =2;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    pist.<a class="code" href="structpistola__dat.html#ab8acb34148186737ac5ec3d20729d29e">FERMO_vel</a> =0.05;    </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    pist.<a class="code" href="structpistola__dat.html#a2f9f0b85f58e44eb5e6c7b11670862a9">CAMMINA_off</a> =20;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    pist.<a class="code" href="structpistola__dat.html#a547e840f6e6c13266b0a57d8b56a47d3">CAMMINA_vel</a> = 1;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    pist.<a class="code" href="structpistola__dat.html#a1802464b5a1ba9ee821f603c8b20d44d">t_SPARA</a> = 20;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="ttc" id="structpistola__dat_html_a207ab0beb66adf955686dadc27bcd737"><div class="ttname"><a href="structpistola__dat.html#a207ab0beb66adf955686dadc27bcd737">pistola_dat::img_h</a></div><div class="ttdeci">int img_h</div><div class="ttdoc">Altezza immagine. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:132</div></div>
<div class="ttc" id="structpistola__dat_html_af9afa863ed5d208b416b6501135cd4f0"><div class="ttname"><a href="structpistola__dat.html#af9afa863ed5d208b416b6501135cd4f0">pistola_dat::y</a></div><div class="ttdeci">float y</div><div class="ttdoc">Coordinata y. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:128</div></div>
<div class="ttc" id="structpistola__dat_html_a8facb44e982b31a3412de88b5a61f97f"><div class="ttname"><a href="structpistola__dat.html#a8facb44e982b31a3412de88b5a61f97f">pistola_dat::x</a></div><div class="ttdeci">float x</div><div class="ttdoc">Coordinata x. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:127</div></div>
<div class="ttc" id="structpistola__dat_html_a0f58f2d3b8469427118a8cf7366b08a7"><div class="ttname"><a href="structpistola__dat.html#a0f58f2d3b8469427118a8cf7366b08a7">pistola_dat::frame_l</a></div><div class="ttdeci">int frame_l</div><div class="ttdoc">Larghezza frame. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:133</div></div>
<div class="ttc" id="structpistola__dat_html_ab63aa7b168f360c29d96731649e99705"><div class="ttname"><a href="structpistola__dat.html#ab63aa7b168f360c29d96731649e99705">pistola_dat::nframe</a></div><div class="ttdeci">int nframe</div><div class="ttdoc">Numero frame animazione. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:147</div></div>
<div class="ttc" id="structpistola__dat_html_a133a157165b5692f784a79a9826dad31"><div class="ttname"><a href="structpistola__dat.html#a133a157165b5692f784a79a9826dad31">pistola_dat::stato_anim</a></div><div class="ttdeci">ANIM_PIST stato_anim</div><div class="ttdoc">Stato attuale animazione pistola. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:141</div></div>
<div class="ttc" id="struttura__dati_8h_html_af660130ebbf343c65c1bdcbb8fa23cbf"><div class="ttname"><a href="struttura__dati_8h.html#af660130ebbf343c65c1bdcbb8fa23cbf">hschermo</a></div><div class="ttdeci">const int hschermo</div><div class="ttdoc">Altezza dello schermo. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:14</div></div>
<div class="ttc" id="structpistola__dat_html_a2f9f0b85f58e44eb5e6c7b11670862a9"><div class="ttname"><a href="structpistola__dat.html#a2f9f0b85f58e44eb5e6c7b11670862a9">pistola_dat::CAMMINA_off</a></div><div class="ttdeci">float CAMMINA_off</div><div class="ttdoc">Oscillazione pistola camminando. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:144</div></div>
<div class="ttc" id="structpistola__dat_html_a2ea8ad1aecb65138e59191f18a2ef7ac"><div class="ttname"><a href="structpistola__dat.html#a2ea8ad1aecb65138e59191f18a2ef7ac">pistola_dat::FERMO_off</a></div><div class="ttdeci">float FERMO_off</div><div class="ttdoc">Oscillazione pistola da fermo. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:142</div></div>
<div class="ttc" id="structpistola__dat_html_a479297ee305f6dfded11030baf3628d1"><div class="ttname"><a href="structpistola__dat.html#a479297ee305f6dfded11030baf3628d1">pistola_dat::img_l</a></div><div class="ttdeci">int img_l</div><div class="ttdoc">Larghezza immagine. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:131</div></div>
<div class="ttc" id="structpistola__dat_html_a8c132480a4b8dc3421cf1c1885a45907"><div class="ttname"><a href="structpistola__dat.html#a8c132480a4b8dc3421cf1c1885a45907">pistola_dat::t</a></div><div class="ttdeci">int t</div><div class="ttdoc">Tempo attuale dello sparo. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:137</div></div>
<div class="ttc" id="structpistola__dat_html_aca178c4c1807973f79d5060210ec7e90"><div class="ttname"><a href="structpistola__dat.html#aca178c4c1807973f79d5060210ec7e90">pistola_dat::danno</a></div><div class="ttdeci">int danno</div><div class="ttdoc">Danno di un colpo inflitto al nemico. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:139</div></div>
<div class="ttc" id="structpistola__dat_html_a0b5935da0a340fddebc6cb36bf44626c"><div class="ttname"><a href="structpistola__dat.html#a0b5935da0a340fddebc6cb36bf44626c">pistola_dat::img</a></div><div class="ttdeci">ALLEGRO_BITMAP * img</div><div class="ttdoc">Puntatore immagine pistola. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:130</div></div>
<div class="ttc" id="structpistola__dat_html_aa2aaf099e22d3d123d19717c34c2378d"><div class="ttname"><a href="structpistola__dat.html#aa2aaf099e22d3d123d19717c34c2378d">pistola_dat::tmax</a></div><div class="ttdeci">int tmax</div><div class="ttdoc">Tempo minimo tra uno sparo e l&#39;altro. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:138</div></div>
<div class="ttc" id="structpistola__dat_html_a547e840f6e6c13266b0a57d8b56a47d3"><div class="ttname"><a href="structpistola__dat.html#a547e840f6e6c13266b0a57d8b56a47d3">pistola_dat::CAMMINA_vel</a></div><div class="ttdeci">float CAMMINA_vel</div><div class="ttdoc">Velocità oscillazione pistola camminando. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:145</div></div>
<div class="ttc" id="structpistola__dat_html_ab8acb34148186737ac5ec3d20729d29e"><div class="ttname"><a href="structpistola__dat.html#ab8acb34148186737ac5ec3d20729d29e">pistola_dat::FERMO_vel</a></div><div class="ttdeci">float FERMO_vel</div><div class="ttdoc">Velocità oscillazione pistola da fermo. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:143</div></div>
<div class="ttc" id="struttura__dati_8h_html_a03f06e72fcc674618c091f13ea583938a16c1673b767e8af2531566c254244256"><div class="ttname"><a href="struttura__dati_8h.html#a03f06e72fcc674618c091f13ea583938a16c1673b767e8af2531566c254244256">CAMMINA</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:34</div></div>
<div class="ttc" id="struttura__dati_8h_html_a0784cd492c479dda0e0cb343eb420c0b"><div class="ttname"><a href="struttura__dati_8h.html#a0784cd492c479dda0e0cb343eb420c0b">lschermo</a></div><div class="ttdeci">const int lschermo</div><div class="ttdoc">Larghezza dello schermo. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:13</div></div>
<div class="ttc" id="structpistola__dat_html_a1802464b5a1ba9ee821f603c8b20d44d"><div class="ttname"><a href="structpistola__dat.html#a1802464b5a1ba9ee821f603c8b20d44d">pistola_dat::t_SPARA</a></div><div class="ttdeci">float t_SPARA</div><div class="ttdoc">Tempo animazione dello sparo. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:148</div></div>
<div class="ttc" id="structpistola__dat_html_aac3e503c899355133a03296cb7d63cba"><div class="ttname"><a href="structpistola__dat.html#aac3e503c899355133a03296cb7d63cba">pistola_dat::sparato</a></div><div class="ttdeci">bool sparato</div><div class="ttdoc">Proiettile sparato? </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:135</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a97bf76cb3890c7f6558d236ed0ff494a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iniz_player </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structplayer__dat.html">player_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>pl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inizializza i campi della struttura del player con oppurtuni dati. </p>
<p>Parametri: pl struttura del player </p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    pl.<a class="code" href="structplayer__dat.html#a050afd4135a3b8b9b64c34e76c1639aa">h</a> = <a class="code" href="struttura__dati_8h.html#a75e75af9055561f651bae3ad9cdc6f37">dimensione_tile</a>/2;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a> = 0;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    pl.<a class="code" href="structplayer__dat.html#ac9b0f334d439e2ad54db873406489f62">fov</a> = <a class="code" href="struttura__dati_8h.html#a5646d8b9823dbfc75d5362b2fb28f495">FOV</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a> = 4;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    pl.<a class="code" href="structplayer__dat.html#a995e308433331c17b1c3e1183832cc5f">vel_gira</a> = 2;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    pl.<a class="code" href="structplayer__dat.html#a65e7647a04215f5fbce3e3753a79001c">raggio_collisione</a> = 30;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    pl.<a class="code" href="structplayer__dat.html#ac3c1dd8e6cde041ef33a9638abc36fc8">dist_m</a> = 100;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="ttc" id="structplayer__dat_html_ae51ef04fa403d4694a36380e54b3148d"><div class="ttname"><a href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">player_dat::ang</a></div><div class="ttdeci">double ang</div><div class="ttdoc">Angolo in gradi. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:41</div></div>
<div class="ttc" id="structplayer__dat_html_a65e7647a04215f5fbce3e3753a79001c"><div class="ttname"><a href="structplayer__dat.html#a65e7647a04215f5fbce3e3753a79001c">player_dat::raggio_collisione</a></div><div class="ttdeci">int raggio_collisione</div><div class="ttdoc">Valore che indica la distanza alla quale il giocatore può intercettare delle collisioni con i muri...</div><div class="ttdef"><b>Definition:</b> struttura_dati.h:46</div></div>
<div class="ttc" id="struttura__dati_8h_html_a5646d8b9823dbfc75d5362b2fb28f495"><div class="ttname"><a href="struttura__dati_8h.html#a5646d8b9823dbfc75d5362b2fb28f495">FOV</a></div><div class="ttdeci">const int FOV</div><div class="ttdoc">Field of view della camera. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:17</div></div>
<div class="ttc" id="structplayer__dat_html_ac9b0f334d439e2ad54db873406489f62"><div class="ttname"><a href="structplayer__dat.html#ac9b0f334d439e2ad54db873406489f62">player_dat::fov</a></div><div class="ttdeci">double fov</div><div class="ttdoc">Field of view del giocatore. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:53</div></div>
<div class="ttc" id="structplayer__dat_html_ac3c1dd8e6cde041ef33a9638abc36fc8"><div class="ttname"><a href="structplayer__dat.html#ac3c1dd8e6cde041ef33a9638abc36fc8">player_dat::dist_m</a></div><div class="ttdeci">double dist_m</div><div class="ttdoc">Distanza dal muro più vicino. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:50</div></div>
<div class="ttc" id="struttura__dati_8h_html_a75e75af9055561f651bae3ad9cdc6f37"><div class="ttname"><a href="struttura__dati_8h.html#a75e75af9055561f651bae3ad9cdc6f37">dimensione_tile</a></div><div class="ttdeci">const int dimensione_tile</div><div class="ttdoc">Dimensione unità della mappa. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:16</div></div>
<div class="ttc" id="structplayer__dat_html_a050afd4135a3b8b9b64c34e76c1639aa"><div class="ttname"><a href="structplayer__dat.html#a050afd4135a3b8b9b64c34e76c1639aa">player_dat::h</a></div><div class="ttdeci">int h</div><div class="ttdoc">Altezza del giocatore. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:52</div></div>
<div class="ttc" id="structplayer__dat_html_a995e308433331c17b1c3e1183832cc5f"><div class="ttname"><a href="structplayer__dat.html#a995e308433331c17b1c3e1183832cc5f">player_dat::vel_gira</a></div><div class="ttdeci">double vel_gira</div><div class="ttdoc">Valore di incremento per la modifica dell&#39;angolo. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:44</div></div>
<div class="ttc" id="structplayer__dat_html_aa464040dee51b4b4a813074f74c4e9d5"><div class="ttname"><a href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">player_dat::vel_camminata</a></div><div class="ttdeci">double vel_camminata</div><div class="ttdoc">Valore di incremento per l&#39;avanzamento. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:43</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a278fd4be552860d1255bff139d182308"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void inject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnodo.html">nodo</a> *&amp;&#160;</td>
          <td class="paramname"><em>testa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnodo.html">nodo</a> *&amp;&#160;</td>
          <td class="paramname"><em>coda</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>inserisce un elemento in coda </p>
<div class="fragment"><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;{</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <a class="code" href="structnodo.html">nodo</a> *n = <span class="keyword">new</span> <a class="code" href="structnodo.html">nodo</a>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    n-&gt;<a class="code" href="structnodo.html#a4e346a7300837310d594e854b0918b01">x</a> = x;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    n-&gt;<a class="code" href="structnodo.html#a454518f55fe41aa89177dbbf19a349e4">y</a> = y;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span> (testa != NULL) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        n-&gt;<a class="code" href="structnodo.html#a9d4f670bbbd1137e4e870feade52c034">prec</a> = coda;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        n-&gt;<a class="code" href="structnodo.html#a96e7be119f4e64c85efc57d7616ade85">succ</a> = NULL;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        coda-&gt;<a class="code" href="structnodo.html#a96e7be119f4e64c85efc57d7616ade85">succ</a> = n;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        coda = n;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        testa = coda = n;        </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        n-&gt;<a class="code" href="structnodo.html#a9d4f670bbbd1137e4e870feade52c034">prec</a> = NULL;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        n-&gt;<a class="code" href="structnodo.html#a96e7be119f4e64c85efc57d7616ade85">succ</a> = NULL;    </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;}</div>
<div class="ttc" id="structnodo_html_a454518f55fe41aa89177dbbf19a349e4"><div class="ttname"><a href="structnodo.html#a454518f55fe41aa89177dbbf19a349e4">nodo::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:26</div></div>
<div class="ttc" id="structnodo_html_a96e7be119f4e64c85efc57d7616ade85"><div class="ttname"><a href="structnodo.html#a96e7be119f4e64c85efc57d7616ade85">nodo::succ</a></div><div class="ttdeci">nodo * succ</div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:27</div></div>
<div class="ttc" id="structnodo_html_a9d4f670bbbd1137e4e870feade52c034"><div class="ttname"><a href="structnodo.html#a9d4f670bbbd1137e4e870feade52c034">nodo::prec</a></div><div class="ttdeci">nodo * prec</div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:28</div></div>
<div class="ttc" id="structnodo_html_a4e346a7300837310d594e854b0918b01"><div class="ttname"><a href="structnodo.html#a4e346a7300837310d594e854b0918b01">nodo::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:25</div></div>
<div class="ttc" id="structnodo_html"><div class="ttname"><a href="structnodo.html">nodo</a></div><div class="ttdoc">Struttura contenente i dati dei nodi utilizzati nel pathfinding. </div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:24</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4519117691f90d3464253dedb97631ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void muovi_nemici </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structplayer__dat.html">player_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>pl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmappa__dat.html">mappa_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnemici__dat.html">nemici_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>nem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aggiorna la posizione dei nemici. </p>
<p>Per calcolare la posizione futura si appoggia all'algoritmo di <a class="el" href="logica__gioco_8cc.html#a342f63c9d95af6728bf0aa06c09e3f4d" title="Implementa l&#39;algoritmo BFS per il pathfinding dei nemici. ">pathfinding</a>.</p>
<p>Parametri: tutte le strutture da aggiornare </p>
<div class="fragment"><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;{</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; nem.<a class="code" href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">num_nemici</a>; i++) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">if</span> (nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a4d24ac15a14e1050d74270eeb85aaf69">vita</a> &lt;=0 || !nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a7eaec74f66484b6bd53d377038d5cdcd">insegui</a>)</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">if</span>(!nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a015b037400bc28215ce12ddc08f0ee1a">simuove</a>) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="comment">//se ha finito il movimento precedente, calcola il prossimo </span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <span class="keywordtype">int</span> xnem = nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a>/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordtype">int</span> ynem = nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a>/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <span class="keywordtype">int</span> xpl = pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a>/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="keywordtype">int</span> ypl = pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a>/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2d">path_t</a> dir = <a class="code" href="logica__gioco_8cc.html#a342f63c9d95af6728bf0aa06c09e3f4d">pathfinding</a>(map, nem, xpl, ypl, xnem, ynem); </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <a class="code" href="logica__gioco_8cc.html#abdafa4e03b5fb13bfc7e8f2bc36dfad7">setta_posizione_arrivo</a>(nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i], dir);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a015b037400bc28215ce12ddc08f0ee1a">simuove</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="comment">//muovi alla posizione successiva</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <span class="keywordflow">if</span> (nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a> &lt; nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a3e898c4c99259c7035f0cf24ec396f2f">xarrivo</a>)</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a> += nem.<a class="code" href="structnemici__dat.html#ab26c35bc361e94a56ce9053daff78ab7">vel_camminata</a>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a> &gt; nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a3e898c4c99259c7035f0cf24ec396f2f">xarrivo</a>)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a> -= nem.<a class="code" href="structnemici__dat.html#ab26c35bc361e94a56ce9053daff78ab7">vel_camminata</a>;        </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <span class="keywordflow">if</span> (nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a> &lt; nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#ae4aeb970ca06a8f6fc25cf6adb7b0775">yarrivo</a>)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a> += nem.<a class="code" href="structnemici__dat.html#ab26c35bc361e94a56ce9053daff78ab7">vel_camminata</a>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a> &gt; nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#ae4aeb970ca06a8f6fc25cf6adb7b0775">yarrivo</a>)</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a> -= nem.<a class="code" href="structnemici__dat.html#ab26c35bc361e94a56ce9053daff78ab7">vel_camminata</a>;    </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <span class="keywordtype">double</span> epsy = 0.01;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <span class="keywordflow">if</span> (nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a> &gt; nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a3e898c4c99259c7035f0cf24ec396f2f">xarrivo</a>-epsy &amp;&amp;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a> &lt; nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a3e898c4c99259c7035f0cf24ec396f2f">xarrivo</a>+epsy &amp;&amp;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a> &lt; nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#ae4aeb970ca06a8f6fc25cf6adb7b0775">yarrivo</a>+epsy &amp;&amp;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a> &gt; nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#ae4aeb970ca06a8f6fc25cf6adb7b0775">yarrivo</a>-epsy    )</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                <span class="comment">//se ha raggiunto la posizione è fermo e richiede istruzioni</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a015b037400bc28215ce12ddc08f0ee1a">simuove</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        assert(    nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a> &gt;0 &amp;&amp; nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a> &lt;map.<a class="code" href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">dim</a>*map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a> &amp;&amp;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a> &gt;0 &amp;&amp; nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a> &lt;map.<a class="code" href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">dim</a>*map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a> );</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;}</div>
<div class="ttc" id="structnemici__dat_html_ab26c35bc361e94a56ce9053daff78ab7"><div class="ttname"><a href="structnemici__dat.html#ab26c35bc361e94a56ce9053daff78ab7">nemici_dat::vel_camminata</a></div><div class="ttdeci">double vel_camminata</div><div class="ttdoc">Velocità camminata nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:122</div></div>
<div class="ttc" id="structnemici__dat_html_ab9f6af23f8e24915ab8e328a76d3c930"><div class="ttname"><a href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">nemici_dat::num_nemici</a></div><div class="ttdeci">int num_nemici</div><div class="ttdoc">Numero nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:119</div></div>
<div class="ttc" id="structplayer__dat_html_a8fc56837f576bfac7ee926e0aedefcf2"><div class="ttname"><a href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">player_dat::y</a></div><div class="ttdeci">double y</div><div class="ttdoc">Coordinata y. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:40</div></div>
<div class="ttc" id="structmappa__dat_html_af68162fa4ba3dbcbfe4691f0d692e791"><div class="ttname"><a href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">mappa_dat::dim</a></div><div class="ttdeci">int dim</div><div class="ttdoc">Numero blocchi per lato della mappa. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:63</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2d"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2d">path_t</a></div><div class="ttdeci">path_t</div><div class="ttdoc">Valori utilizzati dall&#39;algoritmo di pathfinding per costruire il percorso del nemico, indicano la posizione in cui si deve spostare. </div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="structnemico__dat_html_a3e898c4c99259c7035f0cf24ec396f2f"><div class="ttname"><a href="structnemico__dat.html#a3e898c4c99259c7035f0cf24ec396f2f">nemico_dat::xarrivo</a></div><div class="ttdeci">double xarrivo</div><div class="ttdoc">Coordinata x futura. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:101</div></div>
<div class="ttc" id="logica__gioco_8cc_html_abdafa4e03b5fb13bfc7e8f2bc36dfad7"><div class="ttname"><a href="logica__gioco_8cc.html#abdafa4e03b5fb13bfc7e8f2bc36dfad7">setta_posizione_arrivo</a></div><div class="ttdeci">static void setta_posizione_arrivo(nemico_dat &amp;nem, path_t dir)</div><div class="ttdoc">Setta le coordinate futura alle quali il nemico si dovrà spostare. </div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:498</div></div>
<div class="ttc" id="structmappa__dat_html_a66d74a7d20b0999f0840af9044c91d60"><div class="ttname"><a href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">mappa_dat::u</a></div><div class="ttdeci">int u</div><div class="ttdoc">dimensione blocchi </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:64</div></div>
<div class="ttc" id="structnemico__dat_html_ae4aeb970ca06a8f6fc25cf6adb7b0775"><div class="ttname"><a href="structnemico__dat.html#ae4aeb970ca06a8f6fc25cf6adb7b0775">nemico_dat::yarrivo</a></div><div class="ttdeci">double yarrivo</div><div class="ttdoc">Coordinata y futura. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:102</div></div>
<div class="ttc" id="structplayer__dat_html_af66b2d7f7e5c9a0c093b4ae92d8f0c03"><div class="ttname"><a href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">player_dat::x</a></div><div class="ttdeci">double x</div><div class="ttdoc">Coordinata x. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:39</div></div>
<div class="ttc" id="structnemico__dat_html_a4d24ac15a14e1050d74270eeb85aaf69"><div class="ttname"><a href="structnemico__dat.html#a4d24ac15a14e1050d74270eeb85aaf69">nemico_dat::vita</a></div><div class="ttdeci">int vita</div><div class="ttdoc">vita attuale </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:110</div></div>
<div class="ttc" id="structnemico__dat_html_a015b037400bc28215ce12ddc08f0ee1a"><div class="ttname"><a href="structnemico__dat.html#a015b037400bc28215ce12ddc08f0ee1a">nemico_dat::simuove</a></div><div class="ttdeci">bool simuove</div><div class="ttdoc">true se si sta muovendo </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:107</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a342f63c9d95af6728bf0aa06c09e3f4d"><div class="ttname"><a href="logica__gioco_8cc.html#a342f63c9d95af6728bf0aa06c09e3f4d">pathfinding</a></div><div class="ttdeci">static path_t pathfinding(mappa_dat &amp;map, nemici_dat &amp;nem, int xp, int yp, int xa, int ya)</div><div class="ttdoc">Implementa l&#39;algoritmo BFS per il pathfinding dei nemici. </div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:561</div></div>
<div class="ttc" id="structnemico__dat_html_a8671e18e611267e6f5a0a33a0aa96371"><div class="ttname"><a href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">nemico_dat::x</a></div><div class="ttdeci">double x</div><div class="ttdoc">Coordinata x. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:94</div></div>
<div class="ttc" id="structnemico__dat_html_a7eaec74f66484b6bd53d377038d5cdcd"><div class="ttname"><a href="structnemico__dat.html#a7eaec74f66484b6bd53d377038d5cdcd">nemico_dat::insegui</a></div><div class="ttdeci">bool insegui</div><div class="ttdoc">se true insegue il giocatore </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:106</div></div>
<div class="ttc" id="structnemico__dat_html_ae77c14ff4bea0943f352d4f7eec20ddb"><div class="ttname"><a href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">nemico_dat::y</a></div><div class="ttdeci">double y</div><div class="ttdoc">Coordinata y. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:95</div></div>
<div class="ttc" id="structnemici__dat_html_a559652c8265efa3bcae93c6dace103c1"><div class="ttname"><a href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemici_dat::nemico</a></div><div class="ttdeci">nemico_dat * nemico</div><div class="ttdoc">Puntatore ad array di nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:118</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a578a61efdd19efd2bf9196455737036e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void muovi_player </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structplayer__dat.html">player_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>pl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmappa__dat.html">mappa_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>tasto</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structaudio__dat.html">audio_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>audio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aggiorna la posizione del giocatore in base agli input. </p>
<p>Parametri: tasto input della tastiera Parametri: tutte le strutture da aggiornare </p>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;{</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> tmp_passo =0;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    tmp_passo++;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordtype">double</span> newx, newy, xx, yy;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">//cammina avanti</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    newx = pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> + cos(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>))*pl.<a class="code" href="structplayer__dat.html#a65e7647a04215f5fbce3e3753a79001c">raggio_collisione</a>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    newy = pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> - sin(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>))*pl.<a class="code" href="structplayer__dat.html#a65e7647a04215f5fbce3e3753a79001c">raggio_collisione</a>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="logica__gioco_8cc.html#a8e245c2568d90de95556a0d7cf54299b">joy</a>) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        xx = pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> + pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a>* cos(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>))*tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959cab722ceeb601c72cd78fbd35f3581fdf7">W</a>];</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        yy = pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> - pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a>* sin(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>))*tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959cab722ceeb601c72cd78fbd35f3581fdf7">W</a>];    </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="comment">//avanti</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordtype">float</span> axis = <a class="code" href="logica__gioco_8cc.html#a45bd1212cadcf15422e5238c9a79d2b8">joystate</a>.stick[0].axis[1];</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        axis&gt;-0.3? axis = 0, tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959cab722ceeb601c72cd78fbd35f3581fdf7">W</a>] = <span class="keyword">false</span> : tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959cab722ceeb601c72cd78fbd35f3581fdf7">W</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        axis*= -1;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        xx = pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> + pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a>* cos(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>))*axis;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        yy = pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> - pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a>* sin(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>))*axis;          </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span> (map.<a class="code" href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">data</a>[<span class="keywordtype">int</span>(pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a>/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>)][<span class="keywordtype">int</span>(newx/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>)] == 0)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> = xx;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> (map.<a class="code" href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">data</a>[<span class="keywordtype">int</span>(newy/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>)][<span class="keywordtype">int</span>(pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a>/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>)] == 0)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> = yy;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">//cammina indietro  </span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    newx = pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> - cos(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>))*pl.<a class="code" href="structplayer__dat.html#a65e7647a04215f5fbce3e3753a79001c">raggio_collisione</a>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    newy = pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> + sin(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>))*pl.<a class="code" href="structplayer__dat.html#a65e7647a04215f5fbce3e3753a79001c">raggio_collisione</a>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="logica__gioco_8cc.html#a8e245c2568d90de95556a0d7cf54299b">joy</a>) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        xx = pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> - pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a>* cos(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>))*tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959caf1ce01387d2348f8b858721a7db81670">S</a>];</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        yy = pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> + pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a>* sin(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>))*tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959caf1ce01387d2348f8b858721a7db81670">S</a>];</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="comment">//indietro</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordtype">double</span> axis = <a class="code" href="logica__gioco_8cc.html#a45bd1212cadcf15422e5238c9a79d2b8">joystate</a>.stick[0].axis[1];</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        axis&lt;0.3? axis = 0, tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959caf1ce01387d2348f8b858721a7db81670">S</a>] = <span class="keyword">false</span> : tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959caf1ce01387d2348f8b858721a7db81670">S</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        xx = pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> - pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a>* cos(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>))*axis;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        yy = pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> + pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a>* sin(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>))*axis;          </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span> (map.<a class="code" href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">data</a>[<span class="keywordtype">int</span>(pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a>/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>)][<span class="keywordtype">int</span>(newx/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>)] == 0)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> = xx;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">if</span> (map.<a class="code" href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">data</a>[<span class="keywordtype">int</span>(newy/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>)][<span class="keywordtype">int</span>(pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a>/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>)] == 0)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> = yy;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    assert(    pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> &gt; 0 &amp;&amp; pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> &lt; map.<a class="code" href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">dim</a>*map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a> &amp;&amp; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> &gt; 0 &amp;&amp; pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> &lt; map.<a class="code" href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">dim</a>*map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>    );</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">//cammina sinistra</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    newx = pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> + cos(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>+90))*pl.<a class="code" href="structplayer__dat.html#a65e7647a04215f5fbce3e3753a79001c">raggio_collisione</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    newy = pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> - sin(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>+90))*pl.<a class="code" href="structplayer__dat.html#a65e7647a04215f5fbce3e3753a79001c">raggio_collisione</a>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="logica__gioco_8cc.html#a8e245c2568d90de95556a0d7cf54299b">joy</a>) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        xx = pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> + pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a>* cos(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>+90))*tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca42a4ade1acd55a49164099104990e09f">A</a>];</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        yy = pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> - pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a>* sin(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>+90))*tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca42a4ade1acd55a49164099104990e09f">A</a>];    </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordtype">double</span> axis = <a class="code" href="logica__gioco_8cc.html#a45bd1212cadcf15422e5238c9a79d2b8">joystate</a>.stick[0].axis[0];</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        axis&gt;-0.3? axis = 0, tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca42a4ade1acd55a49164099104990e09f">A</a>] = <span class="keyword">false</span> : tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca42a4ade1acd55a49164099104990e09f">A</a>] = <span class="keyword">true</span>;   </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        xx = pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> - pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a>* cos(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>+90))*axis;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        yy = pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> + pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a>* sin(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>+90))*axis;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">if</span> (map.<a class="code" href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">data</a>[<span class="keywordtype">int</span>(pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a>/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>)][<span class="keywordtype">int</span>(newx/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>)] == 0)</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> = xx;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">if</span> (map.<a class="code" href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">data</a>[<span class="keywordtype">int</span>(newy/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>)][<span class="keywordtype">int</span>(pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a>/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>)] == 0)</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> = yy;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">//cammina destra</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    newx = pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> + cos(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>-90))*pl.<a class="code" href="structplayer__dat.html#a65e7647a04215f5fbce3e3753a79001c">raggio_collisione</a>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    newy = pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> - sin(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>-90))*pl.<a class="code" href="structplayer__dat.html#a65e7647a04215f5fbce3e3753a79001c">raggio_collisione</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="logica__gioco_8cc.html#a8e245c2568d90de95556a0d7cf54299b">joy</a>) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        xx = pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> + pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a>* cos(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>-90))*tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca77a6b11f9898c052926f1d49765861e8">D</a>];</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        yy = pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> - pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a>* sin(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>-90))*tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca77a6b11f9898c052926f1d49765861e8">D</a>]; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordtype">double</span> axis = <a class="code" href="logica__gioco_8cc.html#a45bd1212cadcf15422e5238c9a79d2b8">joystate</a>.stick[0].axis[0];</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        axis&lt;0.3? axis = 0, tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca77a6b11f9898c052926f1d49765861e8">D</a>] = <span class="keyword">false</span> : tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca77a6b11f9898c052926f1d49765861e8">D</a>] = <span class="keyword">true</span>; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        xx = pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> + pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a>* cos(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>-90))*axis;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        yy = pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> - pl.<a class="code" href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">vel_camminata</a>* sin(<a class="code" href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>-90))*axis;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">if</span> (map.<a class="code" href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">data</a>[<span class="keywordtype">int</span>(pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a>/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>)][<span class="keywordtype">int</span>(newx/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>)] == 0)</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a> = xx;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">if</span> (map.<a class="code" href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">data</a>[<span class="keywordtype">int</span>(newy/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>)][<span class="keywordtype">int</span>(pl.<a class="code" href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">x</a>/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>)] == 0)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        pl.<a class="code" href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">y</a> = yy;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">//si gira</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="logica__gioco_8cc.html#a8e245c2568d90de95556a0d7cf54299b">joy</a>) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a> += tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca898fd7abd6aae10a03fc8f61543e1ab6">SX</a>] * pl.<a class="code" href="structplayer__dat.html#a995e308433331c17b1c3e1183832cc5f">vel_gira</a>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a> -= tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca22dc95a35fbd833d9908928812979156">DX</a>] * pl.<a class="code" href="structplayer__dat.html#a995e308433331c17b1c3e1183832cc5f">vel_gira</a>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordtype">double</span> axis = <a class="code" href="logica__gioco_8cc.html#a45bd1212cadcf15422e5238c9a79d2b8">joystate</a>.stick[1].axis[1];</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        axis &gt; -0.3 &amp;&amp; axis &lt; 0.3? axis=0 : axis;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a> -= axis * pl.<a class="code" href="structplayer__dat.html#a995e308433331c17b1c3e1183832cc5f">vel_gira</a>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a> = <a class="code" href="raycast_8cc.html#a5b4615cd4bb62c1c29dfd7e3bb2a3739">to_360</a>(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    assert(pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a> &gt;= 0 &amp;&amp; pl.<a class="code" href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">ang</a> &lt;= 360);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">//suono passi</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">if</span> (tmp_passo &gt; 20 &amp;&amp; (tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959cab722ceeb601c72cd78fbd35f3581fdf7">W</a>] || tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959caf1ce01387d2348f8b858721a7db81670">S</a>] || tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca42a4ade1acd55a49164099104990e09f">A</a>] || tasto[<a class="code" href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca77a6b11f9898c052926f1d49765861e8">D</a>]) ) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        al_play_sample(audio.<a class="code" href="structaudio__dat.html#aecfd0ccbdb1fedf58608100cc7c3d09a">passo</a>, 1.0, 0, 1, ALLEGRO_PLAYMODE_ONCE, NULL);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        tmp_passo = 0;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    assert(tmp_passo&gt;= 0 );    </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div>
<div class="ttc" id="structplayer__dat_html_ae51ef04fa403d4694a36380e54b3148d"><div class="ttname"><a href="structplayer__dat.html#ae51ef04fa403d4694a36380e54b3148d">player_dat::ang</a></div><div class="ttdeci">double ang</div><div class="ttdoc">Angolo in gradi. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:41</div></div>
<div class="ttc" id="structplayer__dat_html_a65e7647a04215f5fbce3e3753a79001c"><div class="ttname"><a href="structplayer__dat.html#a65e7647a04215f5fbce3e3753a79001c">player_dat::raggio_collisione</a></div><div class="ttdeci">int raggio_collisione</div><div class="ttdoc">Valore che indica la distanza alla quale il giocatore può intercettare delle collisioni con i muri...</div><div class="ttdef"><b>Definition:</b> struttura_dati.h:46</div></div>
<div class="ttc" id="structmappa__dat_html_aa8812a67b74b6433219812c8b95ae2cb"><div class="ttname"><a href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">mappa_dat::data</a></div><div class="ttdeci">int ** data</div><div class="ttdoc">matrice dinamica che contiene le informazioni sulla locazione dei muri </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:61</div></div>
<div class="ttc" id="structplayer__dat_html_a8fc56837f576bfac7ee926e0aedefcf2"><div class="ttname"><a href="structplayer__dat.html#a8fc56837f576bfac7ee926e0aedefcf2">player_dat::y</a></div><div class="ttdeci">double y</div><div class="ttdoc">Coordinata y. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:40</div></div>
<div class="ttc" id="struttura__dati_8h_html_a9c87ca40e543ebbb6e33116215d4959ca77a6b11f9898c052926f1d49765861e8"><div class="ttname"><a href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca77a6b11f9898c052926f1d49765861e8">D</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:31</div></div>
<div class="ttc" id="struttura__dati_8h_html_a9c87ca40e543ebbb6e33116215d4959caf1ce01387d2348f8b858721a7db81670"><div class="ttname"><a href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959caf1ce01387d2348f8b858721a7db81670">S</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:31</div></div>
<div class="ttc" id="raycast_8cc_html_ac2200150c9f43d15c533f992f37b5f96"><div class="ttname"><a href="raycast_8cc.html#ac2200150c9f43d15c533f992f37b5f96">rad</a></div><div class="ttdeci">double rad(double ang)</div><div class="ttdoc">Dato un angolo in gradi lo converte in radianti. </div><div class="ttdef"><b>Definition:</b> raycast.cc:48</div></div>
<div class="ttc" id="structmappa__dat_html_af68162fa4ba3dbcbfe4691f0d692e791"><div class="ttname"><a href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">mappa_dat::dim</a></div><div class="ttdeci">int dim</div><div class="ttdoc">Numero blocchi per lato della mappa. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:63</div></div>
<div class="ttc" id="structmappa__dat_html_a66d74a7d20b0999f0840af9044c91d60"><div class="ttname"><a href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">mappa_dat::u</a></div><div class="ttdeci">int u</div><div class="ttdoc">dimensione blocchi </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:64</div></div>
<div class="ttc" id="struttura__dati_8h_html_a9c87ca40e543ebbb6e33116215d4959ca898fd7abd6aae10a03fc8f61543e1ab6"><div class="ttname"><a href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca898fd7abd6aae10a03fc8f61543e1ab6">SX</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:31</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a8e245c2568d90de95556a0d7cf54299b"><div class="ttname"><a href="logica__gioco_8cc.html#a8e245c2568d90de95556a0d7cf54299b">joy</a></div><div class="ttdeci">bool joy</div><div class="ttdoc">Funzione principale. </div><div class="ttdef"><b>Definition:</b> main.cc:55</div></div>
<div class="ttc" id="struttura__dati_8h_html_a9c87ca40e543ebbb6e33116215d4959ca42a4ade1acd55a49164099104990e09f"><div class="ttname"><a href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca42a4ade1acd55a49164099104990e09f">A</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:31</div></div>
<div class="ttc" id="structplayer__dat_html_af66b2d7f7e5c9a0c093b4ae92d8f0c03"><div class="ttname"><a href="structplayer__dat.html#af66b2d7f7e5c9a0c093b4ae92d8f0c03">player_dat::x</a></div><div class="ttdeci">double x</div><div class="ttdoc">Coordinata x. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:39</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a45bd1212cadcf15422e5238c9a79d2b8"><div class="ttname"><a href="logica__gioco_8cc.html#a45bd1212cadcf15422e5238c9a79d2b8">joystate</a></div><div class="ttdeci">ALLEGRO_JOYSTICK_STATE joystate</div><div class="ttdef"><b>Definition:</b> main.cc:57</div></div>
<div class="ttc" id="struttura__dati_8h_html_a9c87ca40e543ebbb6e33116215d4959ca22dc95a35fbd833d9908928812979156"><div class="ttname"><a href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959ca22dc95a35fbd833d9908928812979156">DX</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:31</div></div>
<div class="ttc" id="raycast_8cc_html_a5b4615cd4bb62c1c29dfd7e3bb2a3739"><div class="ttname"><a href="raycast_8cc.html#a5b4615cd4bb62c1c29dfd7e3bb2a3739">to_360</a></div><div class="ttdeci">double to_360(double ang)</div><div class="ttdoc">Dato un numero lo riporta ad un intervallo fra 0 e 360. </div><div class="ttdef"><b>Definition:</b> raycast.cc:39</div></div>
<div class="ttc" id="structaudio__dat_html_aecfd0ccbdb1fedf58608100cc7c3d09a"><div class="ttname"><a href="structaudio__dat.html#aecfd0ccbdb1fedf58608100cc7c3d09a">audio_dat::passo</a></div><div class="ttdeci">ALLEGRO_SAMPLE * passo</div><div class="ttdef"><b>Definition:</b> struttura_dati.h:161</div></div>
<div class="ttc" id="structplayer__dat_html_a995e308433331c17b1c3e1183832cc5f"><div class="ttname"><a href="structplayer__dat.html#a995e308433331c17b1c3e1183832cc5f">player_dat::vel_gira</a></div><div class="ttdeci">double vel_gira</div><div class="ttdoc">Valore di incremento per la modifica dell&#39;angolo. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:44</div></div>
<div class="ttc" id="struttura__dati_8h_html_a9c87ca40e543ebbb6e33116215d4959cab722ceeb601c72cd78fbd35f3581fdf7"><div class="ttname"><a href="struttura__dati_8h.html#a9c87ca40e543ebbb6e33116215d4959cab722ceeb601c72cd78fbd35f3581fdf7">W</a></div><div class="ttdef"><b>Definition:</b> struttura_dati.h:31</div></div>
<div class="ttc" id="structplayer__dat_html_aa464040dee51b4b4a813074f74c4e9d5"><div class="ttname"><a href="structplayer__dat.html#aa464040dee51b4b4a813074f74c4e9d5">player_dat::vel_camminata</a></div><div class="ttdeci">double vel_camminata</div><div class="ttdoc">Valore di incremento per l&#39;avanzamento. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:43</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a342f63c9d95af6728bf0aa06c09e3f4d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2d">path_t</a> pathfinding </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmappa__dat.html">mappa_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnemici__dat.html">nemici_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>nem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>yp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ya</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implementa l'algoritmo BFS per il pathfinding dei nemici. </p>
<div class="fragment"><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;{</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2d">path_t</a> path[map.<a class="code" href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">dim</a>][map.<a class="code" href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">dim</a>];</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="comment">//setto la matrice iniziale </span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;map.<a class="code" href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">dim</a>; i++) </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;map.<a class="code" href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">dim</a>; j++)    </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <span class="keywordflow">if</span> (map.<a class="code" href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">data</a>[i][j] == 0)</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                path[i][j] = <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da5dcbd33e95d624d951379fbb8ce3cfad">boh</a>;  <span class="comment">//non so che direzione prendere</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                path[i][j] = <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da2c9bc819c0f12c7e8456c1cce0ca8deb">muro</a>; <span class="comment">//non posso passare di qui</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; nem.<a class="code" href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">num_nemici</a>; i++) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordtype">int</span> y = int(nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a>/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordtype">int</span> x = int(nem.<a class="code" href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemico</a>[i].<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a>/map.<a class="code" href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">u</a>);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <span class="comment">//gli altri nemici non sono oltrepassabili</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keywordflow">if</span> (x != xa || y != ya)</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            path[y][x] = <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da2c9bc819c0f12c7e8456c1cce0ca8deb">muro</a>;  </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="comment">//Algoritmo BFS:</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="structnodo.html">nodo</a> *testa = NULL;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <a class="code" href="structnodo.html">nodo</a> *coda = NULL;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="logica__gioco_8cc.html#a278fd4be552860d1255bff139d182308">inject</a>(testa, coda, xp, yp);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    path[xp][yp] = <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da188032b3e6837794e08d485d4426f1bb">p</a>;    <span class="comment">//partenza</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    path[ya][xa] = <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da5dcbd33e95d624d951379fbb8ce3cfad">boh</a>; <span class="comment">//arrivo</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">while</span>(testa != NULL) {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;             </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <span class="keywordtype">int</span> x, y;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <a class="code" href="logica__gioco_8cc.html#a0a16501ca641f72fa46d576c12a9fcfc">eject</a>(testa, coda, x, y);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">if</span> (x==xa &amp;&amp; y==ya){</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            <span class="keywordflow">break</span>;    </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">if</span> (path[y][x+1] == <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da5dcbd33e95d624d951379fbb8ce3cfad">boh</a> ) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            path[y][x+1] = <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da898515c7bcad93969fef96b0b8247719">sinistra</a>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            <a class="code" href="logica__gioco_8cc.html#a278fd4be552860d1255bff139d182308">inject</a>(testa, coda, x+1, y);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordflow">if</span> (path[y][x-1] == <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da5dcbd33e95d624d951379fbb8ce3cfad">boh</a> ) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            path[y][x-1] = <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da35f93f075e16b5c43c39b70af1a5ef5c">destra</a>;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <a class="code" href="logica__gioco_8cc.html#a278fd4be552860d1255bff139d182308">inject</a>(testa, coda, x-1, y);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">if</span> (path[y-1][x] == <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da5dcbd33e95d624d951379fbb8ce3cfad">boh</a> ) {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            path[y-1][x] = <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da836cb6d58916526173b15057d779c311">giu</a>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            <a class="code" href="logica__gioco_8cc.html#a278fd4be552860d1255bff139d182308">inject</a>(testa, coda, x, y-1);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <span class="keywordflow">if</span> (path[y+1][x] == <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da5dcbd33e95d624d951379fbb8ce3cfad">boh</a> ) {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            path[y+1][x] = <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da993c8ae02a4eb216e79975d9c4b30ba7">su</a>;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            <a class="code" href="logica__gioco_8cc.html#a278fd4be552860d1255bff139d182308">inject</a>(testa, coda, x, y+1);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    path[yp][xp] = <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da2c9bc819c0f12c7e8456c1cce0ca8deb">muro</a>; <span class="comment">//impedisce al nemico di attraversarti</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="comment">//a questo punto path è una matrice in cui ogni casella punta alla </span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="comment">//casella successiva in cui il nemico deve andare</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2d">path_t</a> dir = path[ya][xa]; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    assert(xa&gt;=0 &amp;&amp; xa&lt;map.dim &amp;&amp; ya &gt;= 0 &amp;&amp; ya&lt;map.<a class="code" href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">dim</a>); </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="comment">//controllo la nuova posizione</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordtype">int</span> x=xa,y=ya;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">switch</span>(dir) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da993c8ae02a4eb216e79975d9c4b30ba7">su</a>:    y--;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da836cb6d58916526173b15057d779c311">giu</a>:    y++;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da35f93f075e16b5c43c39b70af1a5ef5c">destra</a>:    x++;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da898515c7bcad93969fef96b0b8247719">sinistra</a>:    x--;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keywordflow">default</span>: ;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">if</span> (path[y][x] == <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da2c9bc819c0f12c7e8456c1cce0ca8deb">muro</a>)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da5dcbd33e95d624d951379fbb8ce3cfad">boh</a>;  <span class="comment">//non ci sono possibilità di movimento</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="keywordflow">return</span> dir;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;}</div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da35f93f075e16b5c43c39b70af1a5ef5c"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da35f93f075e16b5c43c39b70af1a5ef5c">destra</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="structnemici__dat_html_ab9f6af23f8e24915ab8e328a76d3c930"><div class="ttname"><a href="structnemici__dat.html#ab9f6af23f8e24915ab8e328a76d3c930">nemici_dat::num_nemici</a></div><div class="ttdeci">int num_nemici</div><div class="ttdoc">Numero nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:119</div></div>
<div class="ttc" id="structmappa__dat_html_aa8812a67b74b6433219812c8b95ae2cb"><div class="ttname"><a href="structmappa__dat.html#aa8812a67b74b6433219812c8b95ae2cb">mappa_dat::data</a></div><div class="ttdeci">int ** data</div><div class="ttdoc">matrice dinamica che contiene le informazioni sulla locazione dei muri </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:61</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da5dcbd33e95d624d951379fbb8ce3cfad"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da5dcbd33e95d624d951379fbb8ce3cfad">boh</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="structmappa__dat_html_af68162fa4ba3dbcbfe4691f0d692e791"><div class="ttname"><a href="structmappa__dat.html#af68162fa4ba3dbcbfe4691f0d692e791">mappa_dat::dim</a></div><div class="ttdeci">int dim</div><div class="ttdoc">Numero blocchi per lato della mappa. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:63</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2d"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2d">path_t</a></div><div class="ttdeci">path_t</div><div class="ttdoc">Valori utilizzati dall&#39;algoritmo di pathfinding per costruire il percorso del nemico, indicano la posizione in cui si deve spostare. </div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="structmappa__dat_html_a66d74a7d20b0999f0840af9044c91d60"><div class="ttname"><a href="structmappa__dat.html#a66d74a7d20b0999f0840af9044c91d60">mappa_dat::u</a></div><div class="ttdeci">int u</div><div class="ttdoc">dimensione blocchi </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:64</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da993c8ae02a4eb216e79975d9c4b30ba7"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da993c8ae02a4eb216e79975d9c4b30ba7">su</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da836cb6d58916526173b15057d779c311"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da836cb6d58916526173b15057d779c311">giu</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a278fd4be552860d1255bff139d182308"><div class="ttname"><a href="logica__gioco_8cc.html#a278fd4be552860d1255bff139d182308">inject</a></div><div class="ttdeci">static void inject(nodo *&amp;testa, nodo *&amp;coda, int x, int y)</div><div class="ttdoc">inserisce un elemento in coda </div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:537</div></div>
<div class="ttc" id="structnodo_html"><div class="ttname"><a href="structnodo.html">nodo</a></div><div class="ttdoc">Struttura contenente i dati dei nodi utilizzati nel pathfinding. </div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:24</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a0a16501ca641f72fa46d576c12a9fcfc"><div class="ttname"><a href="logica__gioco_8cc.html#a0a16501ca641f72fa46d576c12a9fcfc">eject</a></div><div class="ttdeci">static void eject(nodo *&amp;testa, nodo *&amp;coda, int &amp;x, int &amp;y)</div><div class="ttdoc">Prende il primo elemento in coda. </div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:524</div></div>
<div class="ttc" id="structnemico__dat_html_a8671e18e611267e6f5a0a33a0aa96371"><div class="ttname"><a href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">nemico_dat::x</a></div><div class="ttdeci">double x</div><div class="ttdoc">Coordinata x. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:94</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da188032b3e6837794e08d485d4426f1bb"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da188032b3e6837794e08d485d4426f1bb">p</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="structnemico__dat_html_ae77c14ff4bea0943f352d4f7eec20ddb"><div class="ttname"><a href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">nemico_dat::y</a></div><div class="ttdeci">double y</div><div class="ttdoc">Coordinata y. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:95</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da2c9bc819c0f12c7e8456c1cce0ca8deb"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da2c9bc819c0f12c7e8456c1cce0ca8deb">muro</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da898515c7bcad93969fef96b0b8247719"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da898515c7bcad93969fef96b0b8247719">sinistra</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="structnemici__dat_html_a559652c8265efa3bcae93c6dace103c1"><div class="ttname"><a href="structnemici__dat.html#a559652c8265efa3bcae93c6dace103c1">nemici_dat::nemico</a></div><div class="ttdeci">nemico_dat * nemico</div><div class="ttdoc">Puntatore ad array di nemici. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:118</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abdafa4e03b5fb13bfc7e8f2bc36dfad7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void setta_posizione_arrivo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnemico__dat.html">nemico_dat</a> &amp;&#160;</td>
          <td class="paramname"><em>nem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2d">path_t</a>&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setta le coordinate futura alle quali il nemico si dovrà spostare. </p>
<div class="fragment"><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;{</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">switch</span> (dir) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da993c8ae02a4eb216e79975d9c4b30ba7">su</a>:</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            nem.<a class="code" href="structnemico__dat.html#a3e898c4c99259c7035f0cf24ec396f2f">xarrivo</a> = nem.<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            nem.<a class="code" href="structnemico__dat.html#ae4aeb970ca06a8f6fc25cf6adb7b0775">yarrivo</a> = nem.<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a> - <a class="code" href="struttura__dati_8h.html#a75e75af9055561f651bae3ad9cdc6f37">dimensione_tile</a>;    </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da836cb6d58916526173b15057d779c311">giu</a>:</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            nem.<a class="code" href="structnemico__dat.html#a3e898c4c99259c7035f0cf24ec396f2f">xarrivo</a> = nem.<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            nem.<a class="code" href="structnemico__dat.html#ae4aeb970ca06a8f6fc25cf6adb7b0775">yarrivo</a> = nem.<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a> + <a class="code" href="struttura__dati_8h.html#a75e75af9055561f651bae3ad9cdc6f37">dimensione_tile</a>;        </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da35f93f075e16b5c43c39b70af1a5ef5c">destra</a>:</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            nem.<a class="code" href="structnemico__dat.html#a3e898c4c99259c7035f0cf24ec396f2f">xarrivo</a> = nem.<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a> + <a class="code" href="struttura__dati_8h.html#a75e75af9055561f651bae3ad9cdc6f37">dimensione_tile</a>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            nem.<a class="code" href="structnemico__dat.html#ae4aeb970ca06a8f6fc25cf6adb7b0775">yarrivo</a> = nem.<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a>;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da898515c7bcad93969fef96b0b8247719">sinistra</a>:</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            nem.<a class="code" href="structnemico__dat.html#a3e898c4c99259c7035f0cf24ec396f2f">xarrivo</a> = nem.<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a> - <a class="code" href="struttura__dati_8h.html#a75e75af9055561f651bae3ad9cdc6f37">dimensione_tile</a>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            nem.<a class="code" href="structnemico__dat.html#ae4aeb970ca06a8f6fc25cf6adb7b0775">yarrivo</a> = nem.<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            nem.<a class="code" href="structnemico__dat.html#a3e898c4c99259c7035f0cf24ec396f2f">xarrivo</a> = nem.<a class="code" href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">x</a>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            nem.<a class="code" href="structnemico__dat.html#ae4aeb970ca06a8f6fc25cf6adb7b0775">yarrivo</a> = nem.<a class="code" href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">y</a>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;}</div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da35f93f075e16b5c43c39b70af1a5ef5c"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da35f93f075e16b5c43c39b70af1a5ef5c">destra</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="structnemico__dat_html_a3e898c4c99259c7035f0cf24ec396f2f"><div class="ttname"><a href="structnemico__dat.html#a3e898c4c99259c7035f0cf24ec396f2f">nemico_dat::xarrivo</a></div><div class="ttdeci">double xarrivo</div><div class="ttdoc">Coordinata x futura. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:101</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da993c8ae02a4eb216e79975d9c4b30ba7"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da993c8ae02a4eb216e79975d9c4b30ba7">su</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="structnemico__dat_html_ae4aeb970ca06a8f6fc25cf6adb7b0775"><div class="ttname"><a href="structnemico__dat.html#ae4aeb970ca06a8f6fc25cf6adb7b0775">nemico_dat::yarrivo</a></div><div class="ttdeci">double yarrivo</div><div class="ttdoc">Coordinata y futura. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:102</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da836cb6d58916526173b15057d779c311"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da836cb6d58916526173b15057d779c311">giu</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
<div class="ttc" id="struttura__dati_8h_html_a75e75af9055561f651bae3ad9cdc6f37"><div class="ttname"><a href="struttura__dati_8h.html#a75e75af9055561f651bae3ad9cdc6f37">dimensione_tile</a></div><div class="ttdeci">const int dimensione_tile</div><div class="ttdoc">Dimensione unità della mappa. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:16</div></div>
<div class="ttc" id="structnemico__dat_html_a8671e18e611267e6f5a0a33a0aa96371"><div class="ttname"><a href="structnemico__dat.html#a8671e18e611267e6f5a0a33a0aa96371">nemico_dat::x</a></div><div class="ttdeci">double x</div><div class="ttdoc">Coordinata x. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:94</div></div>
<div class="ttc" id="structnemico__dat_html_ae77c14ff4bea0943f352d4f7eec20ddb"><div class="ttname"><a href="structnemico__dat.html#ae77c14ff4bea0943f352d4f7eec20ddb">nemico_dat::y</a></div><div class="ttdeci">double y</div><div class="ttdoc">Coordinata y. </div><div class="ttdef"><b>Definition:</b> struttura_dati.h:95</div></div>
<div class="ttc" id="logica__gioco_8cc_html_a77d32c22115115152439406d75895b2da898515c7bcad93969fef96b0b8247719"><div class="ttname"><a href="logica__gioco_8cc.html#a77d32c22115115152439406d75895b2da898515c7bcad93969fef96b0b8247719">sinistra</a></div><div class="ttdef"><b>Definition:</b> logica_gioco.cc:34</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Documentazione delle variabili</h2>
<a class="anchor" id="a8e245c2568d90de95556a0d7cf54299b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool joy</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funzione principale. </p>
<p>Si occupa di inizializzare le strutture dati del gioco e gestisce il ciclo principale.true se c'è il joystick </p>

</div>
</div>
<a class="anchor" id="a45bd1212cadcf15422e5238c9a79d2b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ALLEGRO_JOYSTICK_STATE joystate</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a29e3c416529487b9d61c334030300a1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ALLEGRO_JOYSTICK* joystick</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generato Gio 4 Set 2014 22:46:20 per Zombie-Kaze da &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
